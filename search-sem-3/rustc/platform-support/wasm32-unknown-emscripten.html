<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>wasm32-unknown-emscripten - The rustc book</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../what-is-rustc.html"><strong aria-hidden="true">1.</strong> What is rustc?</a></li><li class="chapter-item expanded "><a href="../command-line-arguments.html"><strong aria-hidden="true">2.</strong> Command-line Arguments</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../codegen-options/index.html"><strong aria-hidden="true">2.1.</strong> Codegen Options</a></li></ol></li><li class="chapter-item expanded "><a href="../jobserver.html"><strong aria-hidden="true">3.</strong> Jobserver</a></li><li class="chapter-item expanded "><a href="../lints/index.html"><strong aria-hidden="true">4.</strong> Lints</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../lints/levels.html"><strong aria-hidden="true">4.1.</strong> Lint Levels</a></li><li class="chapter-item expanded "><a href="../lints/groups.html"><strong aria-hidden="true">4.2.</strong> Lint Groups</a></li><li class="chapter-item expanded "><a href="../lints/listing/index.html"><strong aria-hidden="true">4.3.</strong> Lint Listing</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../lints/listing/allowed-by-default.html"><strong aria-hidden="true">4.3.1.</strong> Allowed-by-default Lints</a></li><li class="chapter-item expanded "><a href="../lints/listing/warn-by-default.html"><strong aria-hidden="true">4.3.2.</strong> Warn-by-default Lints</a></li><li class="chapter-item expanded "><a href="../lints/listing/deny-by-default.html"><strong aria-hidden="true">4.3.3.</strong> Deny-by-default Lints</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../json.html"><strong aria-hidden="true">5.</strong> JSON Output</a></li><li class="chapter-item expanded "><a href="../tests/index.html"><strong aria-hidden="true">6.</strong> Tests</a></li><li class="chapter-item expanded "><a href="../platform-support.html"><strong aria-hidden="true">7.</strong> Platform Support</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../target-tier-policy.html"><strong aria-hidden="true">7.1.</strong> Target Tier Policy</a></li><li class="chapter-item expanded "><a href="../platform-support/TEMPLATE.html"><strong aria-hidden="true">7.2.</strong> Template for Target-specific Documentation</a></li><li class="chapter-item expanded "><a href="../platform-support/arm64ec-pc-windows-msvc.html"><strong aria-hidden="true">7.3.</strong> arm64ec-pc-windows-msvc</a></li><li class="chapter-item expanded "><a href="../platform-support/apple-darwin.html"><strong aria-hidden="true">7.4.</strong> *-apple-darwin</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../platform-support/i686-apple-darwin.html"><strong aria-hidden="true">7.4.1.</strong> i686-apple-darwin</a></li><li class="chapter-item expanded "><a href="../platform-support/x86_64h-apple-darwin.html"><strong aria-hidden="true">7.4.2.</strong> x86_64h-apple-darwin</a></li><li class="chapter-item expanded "><a href="../platform-support/arm64e-apple-darwin.html"><strong aria-hidden="true">7.4.3.</strong> arm64e-apple-darwin</a></li></ol></li><li class="chapter-item expanded "><a href="../platform-support/apple-ios.html"><strong aria-hidden="true">7.5.</strong> *-apple-ios</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../platform-support/apple-ios-macabi.html"><strong aria-hidden="true">7.5.1.</strong> *-apple-ios-macabi</a></li><li class="chapter-item expanded "><a href="../platform-support/arm64e-apple-ios.html"><strong aria-hidden="true">7.5.2.</strong> arm64e-apple-ios</a></li></ol></li><li class="chapter-item expanded "><a href="../platform-support/apple-tvos.html"><strong aria-hidden="true">7.6.</strong> *-apple-tvos</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../platform-support/arm64e-apple-tvos.html"><strong aria-hidden="true">7.6.1.</strong> arm64e-apple-tvos</a></li></ol></li><li class="chapter-item expanded "><a href="../platform-support/apple-watchos.html"><strong aria-hidden="true">7.7.</strong> *-apple-watchos</a></li><li class="chapter-item expanded "><a href="../platform-support/apple-visionos.html"><strong aria-hidden="true">7.8.</strong> *-apple-visionos</a></li><li class="chapter-item expanded "><a href="../platform-support/aarch64-nintendo-switch-freestanding.html"><strong aria-hidden="true">7.9.</strong> aarch64-nintendo-switch-freestanding</a></li><li class="chapter-item expanded "><a href="../platform-support/armeb-unknown-linux-gnueabi.html"><strong aria-hidden="true">7.10.</strong> armeb-unknown-linux-gnueabi</a></li><li class="chapter-item expanded "><a href="../platform-support/arm-none-eabi.html"><strong aria-hidden="true">7.11.</strong> arm-none-eabi</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../platform-support/armv4t-none-eabi.html"><strong aria-hidden="true">7.11.1.</strong> armv4t-none-eabi</a></li><li class="chapter-item expanded "><a href="../platform-support/armv5te-none-eabi.html"><strong aria-hidden="true">7.11.2.</strong> armv5te-none-eabi</a></li><li class="chapter-item expanded "><a href="../platform-support/armv7r-none-eabi.html"><strong aria-hidden="true">7.11.3.</strong> armv7r-none-eabi</a></li><li class="chapter-item expanded "><a href="../platform-support/armv8r-none-eabihf.html"><strong aria-hidden="true">7.11.4.</strong> armv8r-none-eabihf</a></li><li class="chapter-item expanded "><a href="../platform-support/thumbv6m-none-eabi.html"><strong aria-hidden="true">7.11.5.</strong> thumbv6m-none-eabi</a></li><li class="chapter-item expanded "><a href="../platform-support/thumbv7em-none-eabi.html"><strong aria-hidden="true">7.11.6.</strong> thumbv7em-none-eabi*</a></li><li class="chapter-item expanded "><a href="../platform-support/thumbv7m-none-eabi.html"><strong aria-hidden="true">7.11.7.</strong> thumbv7m-none-eabi</a></li><li class="chapter-item expanded "><a href="../platform-support/thumbv8m.base-none-eabi.html"><strong aria-hidden="true">7.11.8.</strong> thumbv8m.base-none-eabi</a></li><li class="chapter-item expanded "><a href="../platform-support/thumbv8m.main-none-eabi.html"><strong aria-hidden="true">7.11.9.</strong> thumbv8m.main-none-eabi*</a></li></ol></li><li class="chapter-item expanded "><a href="../platform-support/armv6k-nintendo-3ds.html"><strong aria-hidden="true">7.12.</strong> armv6k-nintendo-3ds</a></li><li class="chapter-item expanded "><a href="../platform-support/armv7-rtems-eabihf.html"><strong aria-hidden="true">7.13.</strong> armv7-rtems-eabihf</a></li><li class="chapter-item expanded "><a href="../platform-support/armv7-sony-vita-newlibeabihf.html"><strong aria-hidden="true">7.14.</strong> armv7-sony-vita-newlibeabihf</a></li><li class="chapter-item expanded "><a href="../platform-support/armv7-unknown-linux-uclibceabi.html"><strong aria-hidden="true">7.15.</strong> armv7-unknown-linux-uclibceabi</a></li><li class="chapter-item expanded "><a href="../platform-support/armv7-unknown-linux-uclibceabihf.html"><strong aria-hidden="true">7.16.</strong> armv7-unknown-linux-uclibceabihf</a></li><li class="chapter-item expanded "><a href="../platform-support/android.html"><strong aria-hidden="true">7.17.</strong> *-android and *-androideabi</a></li><li class="chapter-item expanded "><a href="../platform-support/openharmony.html"><strong aria-hidden="true">7.18.</strong> *-linux-ohos</a></li><li class="chapter-item expanded "><a href="../platform-support/hurd.html"><strong aria-hidden="true">7.19.</strong> *-hurd-gnu</a></li><li class="chapter-item expanded "><a href="../platform-support/aarch64-unknown-teeos.html"><strong aria-hidden="true">7.20.</strong> aarch64-unknown-teeos</a></li><li class="chapter-item expanded "><a href="../platform-support/esp-idf.html"><strong aria-hidden="true">7.21.</strong> *-espidf</a></li><li class="chapter-item expanded "><a href="../platform-support/fuchsia.html"><strong aria-hidden="true">7.22.</strong> *-unknown-fuchsia</a></li><li class="chapter-item expanded "><a href="../platform-support/trusty.html"><strong aria-hidden="true">7.23.</strong> *-unknown-trusty</a></li><li class="chapter-item expanded "><a href="../platform-support/kmc-solid.html"><strong aria-hidden="true">7.24.</strong> *-kmc-solid_*</a></li><li class="chapter-item expanded "><a href="../platform-support/csky-unknown-linux-gnuabiv2.html"><strong aria-hidden="true">7.25.</strong> csky-unknown-linux-gnuabiv2*</a></li><li class="chapter-item expanded "><a href="../platform-support/hexagon-unknown-linux-musl.html"><strong aria-hidden="true">7.26.</strong> hexagon-unknown-linux-musl</a></li><li class="chapter-item expanded "><a href="../platform-support/hexagon-unknown-none-elf.html"><strong aria-hidden="true">7.27.</strong> hexagon-unknown-none-elf</a></li><li class="chapter-item expanded "><a href="../platform-support/loongarch-linux.html"><strong aria-hidden="true">7.28.</strong> loongarch*-unknown-linux-*</a></li><li class="chapter-item expanded "><a href="../platform-support/loongarch-none.html"><strong aria-hidden="true">7.29.</strong> loongarch*-unknown-none*</a></li><li class="chapter-item expanded "><a href="../platform-support/m68k-unknown-linux-gnu.html"><strong aria-hidden="true">7.30.</strong> m68k-unknown-linux-gnu</a></li><li class="chapter-item expanded "><a href="../platform-support/mips64-openwrt-linux-musl.html"><strong aria-hidden="true">7.31.</strong> mips64-openwrt-linux-musl</a></li><li class="chapter-item expanded "><a href="../platform-support/mipsel-sony-psx.html"><strong aria-hidden="true">7.32.</strong> mipsel-sony-psx</a></li><li class="chapter-item expanded "><a href="../platform-support/mips-release-6.html"><strong aria-hidden="true">7.33.</strong> mipsisa*r6*-unknown-linux-gnu*</a></li><li class="chapter-item expanded "><a href="../platform-support/nvptx64-nvidia-cuda.html"><strong aria-hidden="true">7.34.</strong> nvptx64-nvidia-cuda</a></li><li class="chapter-item expanded "><a href="../platform-support/powerpc-unknown-openbsd.html"><strong aria-hidden="true">7.35.</strong> powerpc-unknown-openbsd</a></li><li class="chapter-item expanded "><a href="../platform-support/powerpc-unknown-linux-muslspe.html"><strong aria-hidden="true">7.36.</strong> powerpc-unknown-linux-muslspe</a></li><li class="chapter-item expanded "><a href="../platform-support/aix.html"><strong aria-hidden="true">7.37.</strong> powerpc64-ibm-aix</a></li><li class="chapter-item expanded "><a href="../platform-support/riscv32e-unknown-none-elf.html"><strong aria-hidden="true">7.38.</strong> riscv32e*-unknown-none-elf</a></li><li class="chapter-item expanded "><a href="../platform-support/riscv32-unknown-none-elf.html"><strong aria-hidden="true">7.39.</strong> riscv32i*-unknown-none-elf</a></li><li class="chapter-item expanded "><a href="../platform-support/riscv32im-risc0-zkvm-elf.html"><strong aria-hidden="true">7.40.</strong> riscv32im-risc0-zkvm-elf</a></li><li class="chapter-item expanded "><a href="../platform-support/riscv32imac-unknown-xous-elf.html"><strong aria-hidden="true">7.41.</strong> riscv32imac-unknown-xous-elf</a></li><li class="chapter-item expanded "><a href="../platform-support/riscv64gc-unknown-linux-gnu.html"><strong aria-hidden="true">7.42.</strong> riscv64gc-unknown-linux-gnu</a></li><li class="chapter-item expanded "><a href="../platform-support/riscv64gc-unknown-linux-musl.html"><strong aria-hidden="true">7.43.</strong> riscv64gc-unknown-linux-musl</a></li><li class="chapter-item expanded "><a href="../platform-support/sparc-unknown-none-elf.html"><strong aria-hidden="true">7.44.</strong> sparc-unknown-none-elf</a></li><li class="chapter-item expanded "><a href="../platform-support/pc-windows-gnullvm.html"><strong aria-hidden="true">7.45.</strong> *-pc-windows-gnullvm</a></li><li class="chapter-item expanded "><a href="../platform-support/nto-qnx.html"><strong aria-hidden="true">7.46.</strong> *-nto-qnx-*</a></li><li class="chapter-item expanded "><a href="../platform-support/unikraft-linux-musl.html"><strong aria-hidden="true">7.47.</strong> *-unikraft-linux-musl</a></li><li class="chapter-item expanded "><a href="../platform-support/hermit.html"><strong aria-hidden="true">7.48.</strong> *-unknown-hermit</a></li><li class="chapter-item expanded "><a href="../platform-support/netbsd.html"><strong aria-hidden="true">7.49.</strong> *-unknown-netbsd*</a></li><li class="chapter-item expanded "><a href="../platform-support/openbsd.html"><strong aria-hidden="true">7.50.</strong> *-unknown-openbsd</a></li><li class="chapter-item expanded "><a href="../platform-support/redox.html"><strong aria-hidden="true">7.51.</strong> *-unknown-redox</a></li><li class="chapter-item expanded "><a href="../platform-support/unknown-uefi.html"><strong aria-hidden="true">7.52.</strong> *-unknown-uefi</a></li><li class="chapter-item expanded "><a href="../platform-support/vxworks.html"><strong aria-hidden="true">7.53.</strong> *-wrs-vxworks</a></li><li class="chapter-item expanded "><a href="../platform-support/wasm32-wasip1.html"><strong aria-hidden="true">7.54.</strong> wasm32-wasip1</a></li><li class="chapter-item expanded "><a href="../platform-support/wasm32-wasip1-threads.html"><strong aria-hidden="true">7.55.</strong> wasm32-wasip1-threads</a></li><li class="chapter-item expanded "><a href="../platform-support/wasm32-wasip2.html"><strong aria-hidden="true">7.56.</strong> wasm32-wasip2</a></li><li class="chapter-item expanded "><a href="../platform-support/wasm32-unknown-emscripten.html" class="active"><strong aria-hidden="true">7.57.</strong> wasm32-unknown-emscripten</a></li><li class="chapter-item expanded "><a href="../platform-support/wasm32-unknown-unknown.html"><strong aria-hidden="true">7.58.</strong> wasm32-unknown-unknown</a></li><li class="chapter-item expanded "><a href="../platform-support/wasm32v1-none.html"><strong aria-hidden="true">7.59.</strong> wasm32v1-none</a></li><li class="chapter-item expanded "><a href="../platform-support/wasm64-unknown-unknown.html"><strong aria-hidden="true">7.60.</strong> wasm64-unknown-unknown</a></li><li class="chapter-item expanded "><a href="../platform-support/win7-windows-msvc.html"><strong aria-hidden="true">7.61.</strong> *-win7-windows-msvc</a></li><li class="chapter-item expanded "><a href="../platform-support/x86_64-fortanix-unknown-sgx.html"><strong aria-hidden="true">7.62.</strong> x86_64-fortanix-unknown-sgx</a></li><li class="chapter-item expanded "><a href="../platform-support/x86_64-unknown-linux-none.html"><strong aria-hidden="true">7.63.</strong> x86_64-unknown-linux-none.md</a></li><li class="chapter-item expanded "><a href="../platform-support/x86_64-unknown-none.html"><strong aria-hidden="true">7.64.</strong> x86_64-unknown-none</a></li><li class="chapter-item expanded "><a href="../platform-support/xtensa.html"><strong aria-hidden="true">7.65.</strong> xtensa-*-none-elf</a></li><li class="chapter-item expanded "><a href="../platform-support/nuttx.html"><strong aria-hidden="true">7.66.</strong> *-nuttx-*</a></li></ol></li><li class="chapter-item expanded "><a href="../targets/index.html"><strong aria-hidden="true">8.</strong> Targets</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../targets/built-in.html"><strong aria-hidden="true">8.1.</strong> Built-in Targets</a></li><li class="chapter-item expanded "><a href="../targets/custom.html"><strong aria-hidden="true">8.2.</strong> Custom Targets</a></li><li class="chapter-item expanded "><a href="../targets/known-issues.html"><strong aria-hidden="true">8.3.</strong> Known Issues</a></li></ol></li><li class="chapter-item expanded "><a href="../profile-guided-optimization.html"><strong aria-hidden="true">9.</strong> Profile-guided Optimization</a></li><li class="chapter-item expanded "><a href="../instrument-coverage.html"><strong aria-hidden="true">10.</strong> Instrumentation-based Code Coverage</a></li><li class="chapter-item expanded "><a href="../linker-plugin-lto.html"><strong aria-hidden="true">11.</strong> Linker-plugin-based LTO</a></li><li class="chapter-item expanded "><a href="../check-cfg.html"><strong aria-hidden="true">12.</strong> Checking Conditional Configurations</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../check-cfg/cargo-specifics.html"><strong aria-hidden="true">12.1.</strong> Cargo Specifics</a></li></ol></li><li class="chapter-item expanded "><a href="../exploit-mitigations.html"><strong aria-hidden="true">13.</strong> Exploit Mitigations</a></li><li class="chapter-item expanded "><a href="../symbol-mangling/index.html"><strong aria-hidden="true">14.</strong> Symbol Mangling</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../symbol-mangling/v0.html"><strong aria-hidden="true">14.1.</strong> v0 Symbol Format</a></li></ol></li><li class="chapter-item expanded "><a href="../contributing.html"><strong aria-hidden="true">15.</strong> Contributing to rustc</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The rustc book</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rust-lang/rust/tree/master/src/doc/rustc" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/rust-lang/rust/edit/master/src/doc/rustc/src/platform-support/wasm32-unknown-emscripten.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="wasm32-unknown-emscripten"><a class="header" href="#wasm32-unknown-emscripten"><code>wasm32-unknown-emscripten</code></a></h1>
<p><strong>Tier: 2</strong></p>
<p>The <code>wasm32-unknown-emscripten</code> target is a WebAssembly compilation target which
uses the <a href="https://emscripten.org/">Emscripten</a> compiler toolchain. Emscripten is
a C/C++ toolchain designed to make it as easy as possible to port C/C++ code
written for Linux to run on the web or in other JavaScript runtimes such as Node.
It thus provides POSIX-compatible (musl) <code>libc</code> and <code>libstd</code> implementations and
many Linux APIs, access to the OpenGL and SDL APIs, and the ability to run arbitrary
JavaScript code, all based on web APIs using JS glue code. With the
<code>wasm32-unknown-emscripten</code> target, Rust code can interoperate with Emscripten's
ecosystem, C/C++ and JS code, and web APIs.</p>
<p>One existing user of this target is the
<a href="https://pyodide.org/"><code>pyodide</code> project</a> which provides a Python runtime in
WebAssembly using Emscripten and compiles Python extension modules written in Rust
to the <code>wasm32-unknown-emscripten</code> target.</p>
<p>If you want to generate a standalone WebAssembly binary that does not require
access to the web APIs or the Rust standard library, the
<a href="./wasm32-unknown-unknown.html"><code>wasm32-unknown-unknown</code></a> target may be better
suited for you. However, <a href="./wasm32-unknown-unknown.html"><code>wasm32-unknown-unknown</code></a>
does not (easily) support interop with C/C++ code. Please refer to the
<a href="https://crates.io/crates/wasm-bindgen">wasm-bindgen</a> crate in case you want to
interoperate with JavaScript with this target.</p>
<p>Like Emscripten, the WASI targets <a href="./wasm32-wasip1.html"><code>wasm32-wasip1</code></a> and
<a href="./wasm32-wasip2.html"><code>wasm32-wasip2</code></a> also provide access to the host environment,
support interop with C/C++ (and other languages), and support most of the Rust
standard library. While the WASI targets are portable across different hosts
(web and non-web), WASI has no standard way of accessing web APIs, whereas
Emscripten has the ability to run arbitrary JS from WASM and access many web APIs.
If you are only targeting the web and need to access web APIs, the
<code>wasm32-unknown-emscripten</code> target may be preferable.</p>
<h2 id="target-maintainers"><a class="header" href="#target-maintainers">Target maintainers</a></h2>
<ul>
<li>Hood Chatham, https://github.com/hoodmane</li>
<li>Juniper Tyree, https://github.com/juntyr</li>
</ul>
<h2 id="requirements"><a class="header" href="#requirements">Requirements</a></h2>
<p>This target is cross-compiled. The Emscripten compiler toolchain <code>emcc</code> must be
installed to link WASM binaries for this target. You can install <code>emcc</code> using:</p>
<pre><code class="language-sh">git clone https://github.com/emscripten-core/emsdk.git --depth 1
./emsdk/emsdk install 3.1.68
./emsdk/emsdk activate 3.1.68
source ./emsdk/emsdk_env.sh
</code></pre>
<p>Please refer to <a href="https://emscripten.org/docs/getting_started/downloads.html">https://emscripten.org/docs/getting_started/downloads.html</a> for
further details and instructions.</p>
<h2 id="building-the-target"><a class="header" href="#building-the-target">Building the target</a></h2>
<p>Building this target can be done by:</p>
<ul>
<li>Configure the <code>wasm32-unknown-emscripten</code> target to get built.</li>
<li>Ensure the <code>WebAssembly</code> target backend is not disabled in LLVM.</li>
</ul>
<p>These are all controlled through <code>config.toml</code> options. It should be possible
to build this target on any platform. A minimal example configuration would be:</p>
<pre><code class="language-toml">[llvm]
targets = "WebAssembly"

[build]
build-stage = 1
target = ["wasm32-unknown-emscripten"]
</code></pre>
<h2 id="building-rust-programs"><a class="header" href="#building-rust-programs">Building Rust programs</a></h2>
<p>Rust programs can be compiled by adding this target via rustup:</p>
<pre><code class="language-sh">$ rustup target add wasm32-unknown-emscripten
</code></pre>
<p>and then compiling with the target:</p>
<pre><code class="language-sh">$ rustc foo.rs --target wasm32-unknown-emscripten
$ file foo.wasm
</code></pre>
<h2 id="cross-compilation"><a class="header" href="#cross-compilation">Cross-compilation</a></h2>
<p>This target can be cross-compiled from any host.</p>
<h2 id="emscripten-abi-compatibility"><a class="header" href="#emscripten-abi-compatibility">Emscripten ABI Compatibility</a></h2>
<p>The Emscripten compiler toolchain does not follow a semantic versioning scheme
that clearly indicates when breaking changes to the ABI can be made. Additionally,
Emscripten offers many different ABIs even for a single version of Emscripten
depending on the linker flags used, e.g. <code>-fexceptions</code> and <code>-sWASM_BIGINT</code>. If
the ABIs mismatch, your code may exhibit undefined behaviour.</p>
<p>To ensure that the ABIs of your Rust code, of the Rust standard library, and of
other code compiled for Emscripten all match, you should rebuild the Rust standard
library with your local Emscripten version and settings using:</p>
<pre><code class="language-sh">cargo +nightly -Zbuild-std build
</code></pre>
<p>If you still want to use the pre-compiled <code>std</code> from rustup, you should ensure
that your local Emscripten matches the version used by Rust and be careful about
any <code>-C link-arg</code>s that you compiled your Rust code with.</p>
<h2 id="testing"><a class="header" href="#testing">Testing</a></h2>
<p>This target is not extensively tested in CI for the rust-lang/rust repository. It
can be tested locally, for example, with:</p>
<pre><code class="language-sh">./x.py test --target wasm32-unknown-emscripten --skip src/tools/linkchecker
</code></pre>
<p>To run these tests, both <code>emcc</code> and <code>node</code> need to be in your <code>$PATH</code>. You can
install <code>node</code>, for example, using <code>nvm</code> by following the instructions at
<a href="https://github.com/nvm-sh/nvm#install--update-script">https://github.com/nvm-sh/nvm#install--update-script</a>.</p>
<p>If you need to test WebAssembly compatibility <em>in general</em>, it is recommended
to test the <a href="./wasm32-wasip1.html"><code>wasm32-wasip1</code></a> target instead.</p>
<h2 id="conditionally-compiling-code"><a class="header" href="#conditionally-compiling-code">Conditionally compiling code</a></h2>
<p>It's recommended to conditionally compile code for this target with:</p>
<pre><code class="language-text">#[cfg(target_os = "emscripten")]
</code></pre>
<p>It may sometimes be necessary to conditionally compile code for WASM targets
which do <em>not</em> use emscripten, which can be achieved with:</p>
<pre><code class="language-text">#[cfg(all(target_family = "wasm", not(target_os = "emscripten)))]
</code></pre>
<h2 id="enabled-webassembly-features"><a class="header" href="#enabled-webassembly-features">Enabled WebAssembly features</a></h2>
<p>WebAssembly is an evolving standard which adds new features such as new
instructions over time. This target's default set of supported WebAssembly
features will additionally change over time. The <code>wasm32-unknown-emscripten</code> target
inherits the default settings of LLVM which typically, but not necessarily, matches
the default settings of Emscripten as well. At link time, <code>emcc</code> configures the
linker to use Emscripten's settings.</p>
<p>Please refer to the <a href="./wasm32-unknown-unknown.html"><code>wasm32-unknown-unknown</code></a>
target's documentation on which WebAssembly features Rust enables by default, how
features can be disabled, and how Rust code can be conditionally compiled based on
which features are enabled.</p>
<p>Note that Rust code compiled for <code>wasm32-unknown-emscripten</code> currently enables
<code>-fexceptions</code> (JS exceptions) by default unless the Rust code is compiled with
<code>-Cpanic=abort</code>. <code>-fwasm-exceptions</code> (WASM exceptions) is not yet currently supported,
see <a href="https://github.com/rust-lang/rust/issues/112195">https://github.com/rust-lang/rust/issues/112195</a>.</p>
<p>Please refer to the <a href="#emscripten-abi-compatibility">Emscripten ABI compatibility</a>
section to ensure that the features that are enabled do not cause an ABI mismatch
between your Rust code, the pre-compiled Rust standard library, and other code compiled
for Emscripten.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../platform-support/wasm32-wasip2.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../platform-support/wasm32-unknown-unknown.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../platform-support/wasm32-wasip2.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../platform-support/wasm32-unknown-unknown.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
