<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Functions - The Rust Reference</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon-de23e50b.svg">
        <link rel="shortcut icon" href="../favicon-8114d1fc.png">
        <link rel="stylesheet" href="../css/variables-3865ffda.css">
        <link rel="stylesheet" href="../css/general-4c35105a.css">
        <link rel="stylesheet" href="../css/chrome-c0e702bf.css">
        <link rel="stylesheet" href="../css/print-ad67d350.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome-799aeb25.css">
        <link rel="stylesheet" href="../fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight-493f70e1.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight-56612340.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/reference-94a8e8ad.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "../searchindex-00f0d4d1.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc-4adb5027.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust Reference</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rust-lang/reference/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/rust-lang/reference/edit/master/src/items/functions.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div class="rule" id="r-items.fn"><a class="rule-link" href="#r-items.fn" title="items.fn"><span>[items<wbr>.fn]</span/></a>
</div>
<h1 id="functions"><a class="header" href="#functions">Functions</a></h1>
<div class="rule" id="r-items.fn.syntax"><a class="rule-link" href="#r-items.fn.syntax" title="items.fn.syntax"><span>[items<wbr>.fn<wbr>.syntax]</span/></a>
</div>
<div class="grammar-container">
<p><strong><sup>Syntax</sup></strong>
<br>
<span class="grammar-text grammar-production" id="grammar-Function" onclick="show_railroad()"><a href="functions.html#railroad-Function">Function</a></span> → <br />
    <span class="grammar-text"><a href="functions.html#grammar-FunctionQualifiers">FunctionQualifiers</a></span> <span class="grammar-literal">fn</span> <span class="grammar-text"><a href="../identifiers.html#grammar-IDENTIFIER">IDENTIFIER</a></span> <span class="grammar-text"><a href="generics.html#grammar-GenericParams">GenericParams</a></span><sup>?</sup> <br />
        <span class="grammar-literal">(</span> <span class="grammar-text"><a href="functions.html#grammar-FunctionParameters">FunctionParameters</a></span><sup>?</sup> <span class="grammar-literal">)</span> <br />
        <span class="grammar-text"><a href="functions.html#grammar-FunctionReturnType">FunctionReturnType</a></span><sup>?</sup> <span class="grammar-text"><a href="generics.html#grammar-WhereClause">WhereClause</a></span><sup>?</sup> <br />
        ( <span class="grammar-text"><a href="../expressions/block-expr.html#grammar-BlockExpression">BlockExpression</a></span> | <span class="grammar-literal">;</span> )</p>
<p><span class="grammar-text grammar-production" id="grammar-FunctionQualifiers" onclick="show_railroad()"><a href="functions.html#railroad-FunctionQualifiers">FunctionQualifiers</a></span> → <span class="grammar-literal">const</span><sup>?</sup> <span class="grammar-literal">async</span><sup>?</sup>​<sup class="footnote-reference" id="fr-async-edition-1"><a href="#footnote-async-edition">1</a></sup> <span class="grammar-text"><a href="functions.html#grammar-ItemSafety">ItemSafety</a></span><sup>?</sup>​<sup class="footnote-reference" id="fr-extern-qualifiers-1"><a href="#footnote-extern-qualifiers">2</a></sup> ( <span class="grammar-literal">extern</span> <span class="grammar-text"><a href="functions.html#grammar-Abi">Abi</a></span><sup>?</sup> )<sup>?</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-ItemSafety" onclick="show_railroad()"><a href="functions.html#railroad-ItemSafety">ItemSafety</a></span> → <span class="grammar-literal">safe</span>​<sup class="footnote-reference" id="fr-extern-safe-1"><a href="#footnote-extern-safe">3</a></sup> | <span class="grammar-literal">unsafe</span></p>
<p><span class="grammar-text grammar-production" id="grammar-Abi" onclick="show_railroad()"><a href="functions.html#railroad-Abi">Abi</a></span> → <span class="grammar-text"><a href="../tokens.html#grammar-STRING_LITERAL">STRING_LITERAL</a></span> | <span class="grammar-text"><a href="../tokens.html#grammar-RAW_STRING_LITERAL">RAW_STRING_LITERAL</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-FunctionParameters" onclick="show_railroad()"><a href="functions.html#railroad-FunctionParameters">FunctionParameters</a></span> → <br />
      <span class="grammar-text"><a href="functions.html#grammar-SelfParam">SelfParam</a></span> <span class="grammar-literal">,</span><sup>?</sup> <br />
    | ( <span class="grammar-text"><a href="functions.html#grammar-SelfParam">SelfParam</a></span> <span class="grammar-literal">,</span> )<sup>?</sup> <span class="grammar-text"><a href="functions.html#grammar-FunctionParam">FunctionParam</a></span> ( <span class="grammar-literal">,</span> <span class="grammar-text"><a href="functions.html#grammar-FunctionParam">FunctionParam</a></span> )<sup>*</sup> <span class="grammar-literal">,</span><sup>?</sup></p>
<p><span class="grammar-text grammar-production" id="grammar-SelfParam" onclick="show_railroad()"><a href="functions.html#railroad-SelfParam">SelfParam</a></span> → <span class="grammar-text"><a href="../attributes.html#grammar-OuterAttribute">OuterAttribute</a></span><sup>*</sup> ( <span class="grammar-text"><a href="functions.html#grammar-ShorthandSelf">ShorthandSelf</a></span> | <span class="grammar-text"><a href="functions.html#grammar-TypedSelf">TypedSelf</a></span> )</p>
<p><span class="grammar-text grammar-production" id="grammar-ShorthandSelf" onclick="show_railroad()"><a href="functions.html#railroad-ShorthandSelf">ShorthandSelf</a></span> → ( <span class="grammar-literal">&amp;</span> | <span class="grammar-literal">&amp;</span> <span class="grammar-text"><a href="../trait-bounds.html#grammar-Lifetime">Lifetime</a></span> )<sup>?</sup> <span class="grammar-literal">mut</span><sup>?</sup> <span class="grammar-literal">self</span></p>
<p><span class="grammar-text grammar-production" id="grammar-TypedSelf" onclick="show_railroad()"><a href="functions.html#railroad-TypedSelf">TypedSelf</a></span> → <span class="grammar-literal">mut</span><sup>?</sup> <span class="grammar-literal">self</span> <span class="grammar-literal">:</span> <span class="grammar-text"><a href="../types.html#grammar-Type">Type</a></span></p>
<p><span class="grammar-text grammar-production" id="grammar-FunctionParam" onclick="show_railroad()"><a href="functions.html#railroad-FunctionParam">FunctionParam</a></span> → <span class="grammar-text"><a href="../attributes.html#grammar-OuterAttribute">OuterAttribute</a></span><sup>*</sup> ( <span class="grammar-text"><a href="functions.html#grammar-FunctionParamPattern">FunctionParamPattern</a></span> | <span class="grammar-literal">...</span> | <span class="grammar-text"><a href="../types.html#grammar-Type">Type</a></span>​<sup class="footnote-reference" id="fr-fn-param-2015-1"><a href="#footnote-fn-param-2015">4</a></sup> )</p>
<p><span class="grammar-text grammar-production" id="grammar-FunctionParamPattern" onclick="show_railroad()"><a href="functions.html#railroad-FunctionParamPattern">FunctionParamPattern</a></span> → <span class="grammar-text"><a href="../patterns.html#grammar-PatternNoTopAlt">PatternNoTopAlt</a></span> <span class="grammar-literal">:</span> ( <span class="grammar-text"><a href="../types.html#grammar-Type">Type</a></span> | <span class="grammar-literal">...</span> )</p>
<p><span class="grammar-text grammar-production" id="grammar-FunctionReturnType" onclick="show_railroad()"><a href="functions.html#railroad-FunctionReturnType">FunctionReturnType</a></span> → <span class="grammar-literal">-&gt;</span> <span class="grammar-text"><a href="../types.html#grammar-Type">Type</a></span></p>
<p><button class="grammar-toggle-railroad" type="button" title="Toggle railroad display" onclick="toggle_railroad()">Show Railroad</button></p>
</div>
<div class="grammar-railroad grammar-hidden">
<div style="width: 620px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-Function"><svg class="railroad" viewBox="0 0 620 288" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="functions.html#grammar-Function">
<text class="comment" x="43" y="25">
Function</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="stack">
<path d=" M 35 66 h 12"/>
<path d=" M 549 66 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 h -502 m 254 0 l 5 -5 m 0 10 l -5 -5 m -254 0 a 12 12 0 0 0 -12 12 v 12 v 0 a 12 12 0 0 0 12 12 h 0"/>
<g class="sequence">
<a class="link" xlink:href="functions.html#railroad-FunctionQualifiers">
<g class="nonterminal">
<rect height="22" width="164" x="47" y="55"/>
<text x="129" y="71">
FunctionQualifiers</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="221" y="55"/>
<text x="239" y="71">
fn</text>
</g>
<a class="link" xlink:href="../identifiers.html#railroad-IDENTIFIER">
<g class="nonterminal">
<rect height="22" width="100" x="267" y="55"/>
<text x="317" y="71">
IDENTIFIER</text>
</g>
</a>
<g class="optional">
<path d=" M 377 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 124 m -59 0 l -5 -5 m 0 10 l 5 -5 m 59 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="generics.html#railroad-GenericParams">
<g class="nonterminal">
<rect height="22" width="124" x="401" y="55"/>
<text x="463" y="71">
GenericParams</text>
</g>
</a>
</g>
<path d=" M 211 66 h 10"/>
<path d=" M 257 66 h 10"/>
<path d=" M 367 66 h 10"/>
</g>
<path d=" M 335 126 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 h -288 m 147 0 l 5 -5 m 0 10 l -5 -5 m -147 0 a 12 12 0 0 0 -12 12 v 12 v 0 a 12 12 0 0 0 12 12 h 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="47" y="115"/>
<text x="61" y="131">
(</text>
</g>
<g class="optional">
<path d=" M 85 126 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 164 m -79 0 l -5 -5 m 0 10 l 5 -5 m 79 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="functions.html#railroad-FunctionParameters">
<g class="nonterminal">
<rect height="22" width="164" x="109" y="115"/>
<text x="191" y="131">
FunctionParameters</text>
</g>
</a>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="307" y="115"/>
<text x="321" y="131">
)</text>
</g>
<path d=" M 75 126 h 10"/>
<path d=" M 297 126 h 10"/>
</g>
<path d=" M 425 186 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 h -378 m 192 0 l 5 -5 m 0 10 l -5 -5 m -192 0 a 12 12 0 0 0 -12 12 v 0 v 0 a 12 12 0 0 0 12 12 h 0"/>
<g class="sequence">
<g class="optional">
<path d=" M 47 186 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 164 m -79 0 l -5 -5 m 0 10 l 5 -5 m 79 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="functions.html#railroad-FunctionReturnType">
<g class="nonterminal">
<rect height="22" width="164" x="71" y="175"/>
<text x="153" y="191">
FunctionReturnType</text>
</g>
</a>
</g>
<g class="optional">
<path d=" M 269 186 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 108 m -51 0 l -5 -5 m 0 10 l 5 -5 m 51 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="generics.html#railroad-WhereClause">
<g class="nonterminal">
<rect height="22" width="108" x="293" y="175"/>
<text x="347" y="191">
WhereClause</text>
</g>
</a>
</g>
<path d=" M 259 186 h 10"/>
</g>
<path d=" M 235 234 h 326 m -160 0 l -5 -5 m 0 10 l 5 -5 m 160 0 a 12 12 0 0 0 12 -12 v -144 m 0 75 l -5 5 m 10 0 l -5 -5 m 0 -75 a 12 12 0 0 1 12 -12"/>
<g class="sequence">
<g class="choice">
<path d=" M 47 234 h 24 m 140 0 h 24"/>
<a class="link" xlink:href="../expressions/block-expr.html#railroad-BlockExpression">
<g class="nonterminal">
<rect height="22" width="140" x="71" y="223"/>
<text x="141" y="239">
BlockExpression</text>
</g>
</a>
<path d=" M 47 234 a 12 12 0 0 1 12 12 v 9 m 164 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 59 255 v 0 a 12 12 0 0 0 12 12 m 28 0 h 112 m -53 0 l -5 -5 m 0 10 l 5 -5 m 53 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="71" y="256"/>
<text x="85" y="272">
;</text>
</g>
</g>
</g>
</g>
<path d=" M 595 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 585 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 682px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-FunctionQualifiers"><svg class="railroad" viewBox="0 0 682 99" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="functions.html#grammar-FunctionQualifiers">
<text class="comment" x="78" y="25">
FunctionQualifiers</text>
</a>
<g class="sequence">
<path d=" M 10 78 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="optional">
<path d=" M 35 78 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 60 m -27 0 l -5 -5 m 0 10 l 5 -5 m 27 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="59" y="67"/>
<text x="89" y="83">
const</text>
</g>
</g>
<g class="optional">
<path d=" M 153 78 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 60 m -27 0 l -5 -5 m 0 10 l 5 -5 m 27 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="60" x="177" y="67"/>
<text x="207" y="83">
async</text>
</g>
</g>
<g class="optional">
<path d=" M 271 78 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 100 m -47 0 l -5 -5 m 0 10 l 5 -5 m 47 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="functions.html#railroad-ItemSafety">
<g class="nonterminal">
<rect height="22" width="100" x="295" y="67"/>
<text x="345" y="83">
ItemSafety</text>
</g>
</a>
</g>
<g class="optional">
<path d=" M 429 78 h 24 m -24 0 a 12 12 0 0 0 12 -12 v -12 a 12 12 0 0 1 12 -12 h 170 m -82 0 l -5 -5 m 0 10 l 5 -5 m 82 0 a 12 12 0 0 1 12 12 v 12 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="453" y="67"/>
<text x="487" y="83">
extern</text>
</g>
<g class="optional">
<path d=" M 531 78 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<a class="link" xlink:href="functions.html#railroad-Abi">
<g class="nonterminal">
<rect height="22" width="44" x="555" y="67"/>
<text x="577" y="83">
Abi</text>
</g>
</a>
</g>
<path d=" M 521 78 h 10"/>
</g>
</g>
<path d=" M 143 78 h 10"/>
<path d=" M 261 78 h 10"/>
<path d=" M 419 78 h 10"/>
</g>
<path d=" M 657 78 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 78 h 10"/>
<path d=" M 647 78 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 186px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ItemSafety"><svg class="railroad" viewBox="0 0 186 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="functions.html#grammar-ItemSafety">
<text class="comment" x="50" y="25">
ItemSafety</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 52 0 h 40"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="52" x="59" y="42"/>
<text x="85" y="58">
safe</text>
</g>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 92 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 68 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="68" x="59" y="75"/>
<text x="93" y="91">
unsafe</text>
</g>
</g>
<path d=" M 161 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 151 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 282px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-Abi"><svg class="railroad" viewBox="0 0 282 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="functions.html#grammar-Abi">
<text class="comment" x="25" y="25">
Abi</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 53 h 24 m 132 0 h 56 m -25 0 l -5 -5 m 0 10 l 5 -5 m 25 0"/>
<a class="link" xlink:href="../tokens.html#railroad-STRING_LITERAL">
<g class="nonterminal">
<rect height="22" width="132" x="59" y="42"/>
<text x="125" y="58">
STRING_LITERAL</text>
</g>
</a>
<path d=" M 35 53 a 12 12 0 0 1 12 12 v 9 m 188 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 74 v 0 a 12 12 0 0 0 12 12 m 164 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="../tokens.html#railroad-RAW_STRING_LITERAL">
<g class="nonterminal">
<rect height="22" width="164" x="59" y="75"/>
<text x="141" y="91">
RAW_STRING_LITERAL</text>
</g>
</a>
</g>
<path d=" M 257 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 247 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 760px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-FunctionParameters"><svg class="railroad" viewBox="0 0 760 145" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="functions.html#grammar-FunctionParameters">
<text class="comment" x="78" y="25">
FunctionParameters</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="choice">
<path d=" M 35 66 h 24 m 178 0 h 488 m -241 0 l -5 -5 m 0 10 l 5 -5 m 241 0"/>
<g class="sequence">
<a class="link" xlink:href="functions.html#railroad-SelfParam">
<g class="nonterminal">
<rect height="22" width="92" x="59" y="55"/>
<text x="105" y="71">
SelfParam</text>
</g>
</a>
<g class="optional">
<path d=" M 161 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="185" y="55"/>
<text x="199" y="71">
,</text>
</g>
</g>
<path d=" M 151 66 h 10"/>
</g>
<path d=" M 35 66 a 12 12 0 0 1 12 12 v 9 m 666 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 47 87 v 12 a 12 12 0 0 0 12 12 m 642 0 h 0 a 12 12 0 0 0 12 -12 v -12"/>
<g class="sequence">
<g class="optional">
<path d=" M 59 111 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 130 m -62 0 l -5 -5 m 0 10 l 5 -5 m 62 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="sequence">
<a class="link" xlink:href="functions.html#railroad-SelfParam">
<g class="nonterminal">
<rect height="22" width="92" x="83" y="100"/>
<text x="129" y="116">
SelfParam</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="185" y="100"/>
<text x="199" y="116">
,</text>
</g>
<path d=" M 175 111 h 10"/>
</g>
</g>
<a class="link" xlink:href="functions.html#railroad-FunctionParam">
<g class="nonterminal">
<rect height="22" width="124" x="247" y="100"/>
<text x="309" y="116">
FunctionParam</text>
</g>
</a>
<g class="optional">
<path d=" M 381 111 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 186 m -90 0 l -5 -5 m 0 10 l 5 -5 m 90 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 405 111 h 12 m 162 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -162 m 84 0 l 5 -5 m 0 10 l -5 -5 m -84 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="417" y="100"/>
<text x="431" y="116">
,</text>
</g>
<a class="link" xlink:href="functions.html#railroad-FunctionParam">
<g class="nonterminal">
<rect height="22" width="124" x="455" y="100"/>
<text x="517" y="116">
FunctionParam</text>
</g>
</a>
<path d=" M 445 111 h 10"/>
</g>
</g>
</g>
<g class="optional">
<path d=" M 625 111 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 28 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="649" y="100"/>
<text x="663" y="116">
,</text>
</g>
</g>
<path d=" M 237 111 h 10"/>
<path d=" M 371 111 h 10"/>
<path d=" M 615 111 h 10"/>
</g>
</g>
<path d=" M 735 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 725 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 456px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-SelfParam"><svg class="railroad" viewBox="0 0 456 120" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="functions.html#grammar-SelfParam">
<text class="comment" x="46" y="25">
SelfParam</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="optional">
<path d=" M 35 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 156 m -75 0 l -5 -5 m 0 10 l 5 -5 m 75 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 59 66 h 12 m 132 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -132 m 69 0 l 5 -5 m 0 10 l -5 -5 m -69 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<a class="link" xlink:href="../attributes.html#railroad-OuterAttribute">
<g class="nonterminal">
<rect height="22" width="132" x="71" y="55"/>
<text x="137" y="71">
OuterAttribute</text>
</g>
</a>
</g>
</g>
<g class="choice">
<path d=" M 249 66 h 24 m 124 0 h 24"/>
<a class="link" xlink:href="functions.html#railroad-ShorthandSelf">
<g class="nonterminal">
<rect height="22" width="124" x="273" y="55"/>
<text x="335" y="71">
ShorthandSelf</text>
</g>
</a>
<path d=" M 249 66 a 12 12 0 0 1 12 12 v 9 m 148 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 261 87 v 0 a 12 12 0 0 0 12 12 m 92 0 h 32 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="functions.html#railroad-TypedSelf">
<g class="nonterminal">
<rect height="22" width="92" x="273" y="88"/>
<text x="319" y="104">
TypedSelf</text>
</g>
</a>
</g>
<path d=" M 239 66 h 10"/>
</g>
<path d=" M 431 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 421 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 452px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-ShorthandSelf"><svg class="railroad" viewBox="0 0 452 120" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="functions.html#grammar-ShorthandSelf">
<text class="comment" x="60" y="25">
ShorthandSelf</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="optional">
<path d=" M 35 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 170 m -82 0 l -5 -5 m 0 10 l 5 -5 m 82 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="choice">
<path d=" M 59 66 h 24 m 28 0 h 118 m -56 0 l -5 -5 m 0 10 l 5 -5 m 56 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="83" y="55"/>
<text x="97" y="71">
&amp;</text>
</g>
<path d=" M 59 66 a 12 12 0 0 1 12 12 v 9 m 146 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 71 87 v 0 a 12 12 0 0 0 12 12 m 122 0 h 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="83" y="88"/>
<text x="97" y="104">
&amp;</text>
</g>
<a class="link" xlink:href="../trait-bounds.html#railroad-Lifetime">
<g class="nonterminal">
<rect height="22" width="84" x="121" y="88"/>
<text x="163" y="104">
Lifetime</text>
</g>
</a>
<path d=" M 111 99 h 10"/>
</g>
</g>
</g>
<g class="optional">
<path d=" M 263 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="287" y="55"/>
<text x="309" y="71">
mut</text>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="52" x="365" y="55"/>
<text x="391" y="71">
self</text>
</g>
<path d=" M 253 66 h 10"/>
<path d=" M 355 66 h 10"/>
</g>
<path d=" M 427 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 417 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 324px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-TypedSelf"><svg class="railroad" viewBox="0 0 324 87" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="functions.html#grammar-TypedSelf">
<text class="comment" x="46" y="25">
TypedSelf</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="optional">
<path d=" M 35 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 44 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="59" y="55"/>
<text x="81" y="71">
mut</text>
</g>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="52" x="137" y="55"/>
<text x="163" y="71">
self</text>
</g>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="199" y="55"/>
<text x="213" y="71">
:</text>
</g>
<a class="link" xlink:href="../types.html#railroad-Type">
<g class="nonterminal">
<rect height="22" width="52" x="237" y="55"/>
<text x="263" y="71">
Type</text>
</g>
</a>
<path d=" M 127 66 h 10"/>
<path d=" M 189 66 h 10"/>
<path d=" M 227 66 h 10"/>
</g>
<path d=" M 299 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 289 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 520px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-FunctionParam"><svg class="railroad" viewBox="0 0 520 153" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="functions.html#grammar-FunctionParam">
<text class="comment" x="60" y="25">
FunctionParam</text>
</a>
<g class="sequence">
<path d=" M 10 66 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="optional">
<path d=" M 35 66 h 24 m -24 0 a 12 12 0 0 0 12 -12 v 0 a 12 12 0 0 1 12 -12 h 156 m -75 0 l -5 -5 m 0 10 l 5 -5 m 75 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 0 12 12 h -24"/>
<g class="repeat">
<path d=" M 59 66 h 12 m 132 0 h 12 m -12 0 a 12 12 0 0 1 12 12 v 0 a 12 12 0 0 1 -12 12 m 0 0 h -132 m 69 0 l 5 -5 m 0 10 l -5 -5 m -69 0 a 12 12 0 0 1 -12 -12 v 0 a 12 12 0 0 1 12 -12"/>
<g/>
<a class="link" xlink:href="../attributes.html#railroad-OuterAttribute">
<g class="nonterminal">
<rect height="22" width="132" x="71" y="55"/>
<text x="137" y="71">
OuterAttribute</text>
</g>
</a>
</g>
</g>
<g class="choice">
<path d=" M 249 66 h 24 m 188 0 h 24"/>
<a class="link" xlink:href="functions.html#railroad-FunctionParamPattern">
<g class="nonterminal">
<rect height="22" width="188" x="273" y="55"/>
<text x="367" y="71">
FunctionParamPattern</text>
</g>
</a>
<path d=" M 249 66 a 12 12 0 0 1 12 12 v 9 m 212 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 261 87 v 33 m 212 0 v -33"/>
<path d=" M 261 87 v 0 a 12 12 0 0 0 12 12 m 44 0 h 144 m -69 0 l -5 -5 m 0 10 l 5 -5 m 69 0 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="273" y="88"/>
<text x="295" y="104">
...</text>
</g>
<path d=" M 261 120 v 0 a 12 12 0 0 0 12 12 m 52 0 h 136 m -65 0 l -5 -5 m 0 10 l 5 -5 m 65 0 a 12 12 0 0 0 12 -12 v 0"/>
<a class="link" xlink:href="../types.html#railroad-Type">
<g class="nonterminal">
<rect height="22" width="52" x="273" y="121"/>
<text x="299" y="137">
Type</text>
</g>
</a>
</g>
<path d=" M 239 66 h 10"/>
</g>
<path d=" M 495 66 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 66 h 10"/>
<path d=" M 485 66 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 358px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-FunctionParamPattern"><svg class="railroad" viewBox="0 0 358 107" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="functions.html#grammar-FunctionParamPattern">
<text class="comment" x="88" y="25">
FunctionParamPattern</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<a class="link" xlink:href="../patterns.html#railroad-PatternNoTopAlt">
<g class="nonterminal">
<rect height="22" width="140" x="35" y="42"/>
<text x="105" y="58">
PatternNoTopAlt</text>
</g>
</a>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="28" x="185" y="42"/>
<text x="199" y="58">
:</text>
</g>
<g class="choice">
<path d=" M 223 53 h 24 m 52 0 h 24"/>
<a class="link" xlink:href="../types.html#railroad-Type">
<g class="nonterminal">
<rect height="22" width="52" x="247" y="42"/>
<text x="273" y="58">
Type</text>
</g>
</a>
<path d=" M 223 53 a 12 12 0 0 1 12 12 v 9 m 76 0 v -9 a 12 12 0 0 1 12 -12"/>
<path d=" M 235 74 v 0 a 12 12 0 0 0 12 12 m 44 0 h 8 a 12 12 0 0 0 12 -12 v 0"/>
<g class="terminal">
<rect height="22" rx="10" ry="10" width="44" x="247" y="75"/>
<text x="269" y="91">
...</text>
</g>
</g>
<path d=" M 175 53 h 10"/>
<path d=" M 213 53 h 10"/>
</g>
<path d=" M 333 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 323 53 h 10"/>
</g>
</g>
</svg>
</div>
<div style="width: 168px; height: auto; max-width: 100%; max-height: 100%" class="railroad-production" id="railroad-FunctionReturnType"><svg class="railroad" viewBox="0 0 168 74" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect class="railroad_canvas" height="100%" width="100%"/>
<g class="verticalgrid">
<a class="link" xlink:href="functions.html#grammar-FunctionReturnType">
<text class="comment" x="78" y="25">
FunctionReturnType</text>
</a>
<g class="sequence">
<path d=" M 10 53 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5 m 10 0 h 5"/>
<g class="sequence">
<g class="terminal">
<rect height="22" rx="10" ry="10" width="36" x="35" y="42"/>
<text x="53" y="58">
-&gt;</text>
</g>
<a class="link" xlink:href="../types.html#railroad-Type">
<g class="nonterminal">
<rect height="22" width="52" x="81" y="42"/>
<text x="107" y="58">
Type</text>
</g>
</a>
<path d=" M 71 53 h 10"/>
</g>
<path d=" M 143 53 h 5 a 5 5 0 0 1 5 -5 a 5 5 0 0 1 5 5 a 5 5 0 0 1 -5 5 a 5 5 0 0 1 -5 -5"/>
<path d=" M 25 53 h 10"/>
<path d=" M 133 53 h 10"/>
</g>
</g>
</svg>
</div>
</div>
<div class="rule" id="r-items.fn.intro"><a class="rule-link" href="#r-items.fn.intro" title="items.fn.intro"><span>[items<wbr>.fn<wbr>.intro]</span/></a>
</div>
<p>A <em>function</em> consists of a <a href="../expressions/block-expr.html">block</a> (that’s the <em>body</em> of the function),
along with a name, a set of parameters, and an output type.
Other than a name, all these are optional.</p>
<div class="rule" id="r-items.fn.namespace"><a class="rule-link" href="#r-items.fn.namespace" title="items.fn.namespace"><span>[items<wbr>.fn<wbr>.namespace]</span/></a>
</div>
<p>Functions are declared with the keyword <code>fn</code> which defines the given name in the <a href="../names/namespaces.html">value namespace</a> of the module or block where it is located.</p>
<div class="rule" id="r-items.fn.signature"><a class="rule-link" href="#r-items.fn.signature" title="items.fn.signature"><span>[items<wbr>.fn<wbr>.signature]</span/></a>
</div>
<p>Functions may declare a set of <em>input</em> <a href="../variables.html"><em>variables</em></a> as parameters, through which the caller passes arguments into the function, and the <em>output</em> <a href="../types.html#type-expressions"><em>type</em></a> of the value the function will return to its caller on completion.</p>
<div class="rule" id="r-items.fn.implicit-return"><a class="rule-link" href="#r-items.fn.implicit-return" title="items.fn.implicit-return"><span>[items<wbr>.fn<wbr>.implicit-return]</span/></a>
</div>
<p>If the output type is not explicitly stated, it is the <a href="../types/tuple.html">unit type</a>.</p>
<div class="rule" id="r-items.fn.fn-item-type"><a class="rule-link" href="#r-items.fn.fn-item-type" title="items.fn.fn-item-type"><span>[items<wbr>.fn<wbr>.fn-item-type]</span/></a>
</div>
<p>When referred to, a <em>function</em> yields a first-class <em>value</em> of the corresponding zero-sized <a href="../types/function-item.html"><em>function item type</em></a>, which when called evaluates to a direct call to the function.</p>
<p>For example, this is a simple function:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn answer_to_life_the_universe_and_everything() -&gt; i32 {
    return 42;
}
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-items.fn.safety-qualifiers"><a class="rule-link" href="#r-items.fn.safety-qualifiers" title="items.fn.safety-qualifiers"><span>[items<wbr>.fn<wbr>.safety-qualifiers]</span/></a>
</div>
<p>The <code>safe</code> function is semantically only allowed when used in an <a href="external-blocks.html"><code>extern</code> block</a>.</p>
<div class="rule" id="r-items.fn.params"><a class="rule-link" href="#r-items.fn.params" title="items.fn.params"><span>[items<wbr>.fn<wbr>.params]</span/></a>
</div>
<h2 id="function-parameters"><a class="header" href="#function-parameters">Function parameters</a></h2>
<div class="rule" id="r-items.fn.params.intro"><a class="rule-link" href="#r-items.fn.params.intro" title="items.fn.params.intro"><span>[items<wbr>.fn<wbr>.params<wbr>.intro]</span/></a>
</div>
<p>Function parameters are irrefutable <a href="../patterns.html">patterns</a>, so any pattern that is valid in
an else-less <code>let</code> binding is also valid as a parameter:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn first((value, _): (i32, i32)) -&gt; i32 { value }
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-items.fn.params.self-pat"><a class="rule-link" href="#r-items.fn.params.self-pat" title="items.fn.params.self-pat"><span>[items<wbr>.fn<wbr>.params<wbr>.self-pat]</span/></a>
</div>
<p>If the first parameter is a <a href="functions.html#grammar-SelfParam">SelfParam</a>, this indicates that the function is a
<a href="associated-items.html#methods">method</a>.</p>
<div class="rule" id="r-items.fn.params.self-restriction"><a class="rule-link" href="#r-items.fn.params.self-restriction" title="items.fn.params.self-restriction"><span>[items<wbr>.fn<wbr>.params<wbr>.self-restriction]</span/></a>
</div>
<p>Functions with a self parameter may only appear as an <a href="associated-items.html#associated-functions-and-methods">associated
function</a> in a <a href="traits.html">trait</a> or <a href="implementations.html">implementation</a>.</p>
<div class="rule" id="r-items.fn.params.varargs"><a class="rule-link" href="#r-items.fn.params.varargs" title="items.fn.params.varargs"><span>[items<wbr>.fn<wbr>.params<wbr>.varargs]</span/></a>
</div>
<p>A parameter with the <code>...</code> token indicates a <a href="external-blocks.html#variadic-functions">variadic function</a>, and may only
be used as the last parameter of an <a href="external-blocks.html">external block</a> function. The variadic
parameter may have an optional identifier, such as <code>args: ...</code>.</p>
<div class="rule" id="r-items.fn.body"><a class="rule-link" href="#r-items.fn.body" title="items.fn.body"><span>[items<wbr>.fn<wbr>.body]</span/></a>
</div>
<h2 id="function-body"><a class="header" href="#function-body">Function body</a></h2>
<div class="rule" id="r-items.fn.body.intro"><a class="rule-link" href="#r-items.fn.body.intro" title="items.fn.body.intro"><span>[items<wbr>.fn<wbr>.body<wbr>.intro]</span/></a>
</div>
<p>The body block of a function is conceptually wrapped in another block that first binds the
argument patterns and then <code>return</code>s the value of the function’s body. This
means that the tail expression of the block, if evaluated, ends up being
returned to the caller. As usual, an explicit return expression within
the body of the function will short-cut that implicit return, if reached.</p>
<p>For example, the function above behaves as if it was written as:</p>
<!-- ignore: example expansion -->
<pre><code class="language-rust ignore">// argument_0 is the actual first argument passed from the caller
let (value, _) = argument_0;
return {
    value
};</code></pre>
<div class="rule" id="r-items.fn.body.bodyless"><a class="rule-link" href="#r-items.fn.body.bodyless" title="items.fn.body.bodyless"><span>[items<wbr>.fn<wbr>.body<wbr>.bodyless]</span/></a>
</div>
<p>Functions without a body block are terminated with a semicolon. This form
may only appear in a <a href="traits.html">trait</a> or <a href="external-blocks.html">external block</a>.</p>
<div class="rule" id="r-items.fn.generics"><a class="rule-link" href="#r-items.fn.generics" title="items.fn.generics"><span>[items<wbr>.fn<wbr>.generics]</span/></a>
</div>
<h2 id="generic-functions"><a class="header" href="#generic-functions">Generic functions</a></h2>
<div class="rule" id="r-items.fn.generics.intro"><a class="rule-link" href="#r-items.fn.generics.intro" title="items.fn.generics.intro"><span>[items<wbr>.fn<wbr>.generics<wbr>.intro]</span/></a>
</div>
<p>A <em>generic function</em> allows one or more <em>parameterized types</em> to appear in its
signature. Each type parameter must be explicitly declared in an
angle-bracket-enclosed and comma-separated list, following the function name.</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// foo is generic over A and B

fn foo&lt;A, B&gt;(x: A, y: B) {
<span class="boring">}
</span><span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-items.fn.generics.param-names"><a class="rule-link" href="#r-items.fn.generics.param-names" title="items.fn.generics.param-names"><span>[items<wbr>.fn<wbr>.generics<wbr>.param-names]</span/></a>
</div>
<p>Inside the function signature and body, the name of the type parameter can be
used as a type name.</p>
<div class="rule" id="r-items.fn.generics.param-bounds"><a class="rule-link" href="#r-items.fn.generics.param-bounds" title="items.fn.generics.param-bounds"><span>[items<wbr>.fn<wbr>.generics<wbr>.param-bounds]</span/></a>
</div>
<p><a href="traits.html">Trait</a> bounds can be specified for type
parameters to allow methods with that trait to be called on values of that
type. This is specified using the <code>where</code> syntax:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">use std::fmt::Debug;
</span>fn foo&lt;T&gt;(x: T) where T: Debug {
<span class="boring">}
</span><span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-items.fn.generics.mono"><a class="rule-link" href="#r-items.fn.generics.mono" title="items.fn.generics.mono"><span>[items<wbr>.fn<wbr>.generics<wbr>.mono]</span/></a>
</div>
<p>When a generic function is referenced, its type is instantiated based on the
context of the reference. For example, calling the <code>foo</code> function here:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::fmt::Debug;

fn foo&lt;T&gt;(x: &amp;[T]) where T: Debug {
    // details elided
}

foo(&amp;[1, 2]);
<span class="boring">}</span></code></pre></pre>
<p>will instantiate type parameter <code>T</code> with <code>i32</code>.</p>
<div class="rule" id="r-items.fn.generics.explicit-arguments"><a class="rule-link" href="#r-items.fn.generics.explicit-arguments" title="items.fn.generics.explicit-arguments"><span>[items<wbr>.fn<wbr>.generics<wbr>.explicit-arguments]</span/></a>
</div>
<p>The type parameters can also be explicitly supplied in a trailing <a href="../paths.html">path</a>
component after the function name. This might be necessary if there is not
sufficient context to determine the type parameters. For example,
<code>mem::size_of::&lt;u32&gt;() == 4</code>.</p>
<div class="rule" id="r-items.fn.extern"><a class="rule-link" href="#r-items.fn.extern" title="items.fn.extern"><span>[items<wbr>.fn<wbr>.extern]</span/></a>
</div>
<h2 id="extern-function-qualifier"><a class="header" href="#extern-function-qualifier">Extern function qualifier</a></h2>
<div class="rule" id="r-items.fn.extern.intro"><a class="rule-link" href="#r-items.fn.extern.intro" title="items.fn.extern.intro"><span>[items<wbr>.fn<wbr>.extern<wbr>.intro]</span/></a>
</div>
<p>The <code>extern</code> function qualifier allows providing function <em>definitions</em> that can
be called with a particular ABI:</p>
<!-- ignore: fake ABI -->
<pre><code class="language-rust ignore">extern "ABI" fn foo() { /* ... */ }</code></pre>
<div class="rule" id="r-items.fn.extern.def"><a class="rule-link" href="#r-items.fn.extern.def" title="items.fn.extern.def"><span>[items<wbr>.fn<wbr>.extern<wbr>.def]</span/></a>
</div>
<p>These are often used in combination with <a href="external-blocks.html">external block</a> items which provide
function <em>declarations</em> that can be used to call functions without providing
their <em>definition</em>:</p>
<!-- ignore: fake ABI -->
<pre><code class="language-rust ignore">unsafe extern "ABI" {
  unsafe fn foo(); /* no body */
  safe fn bar(); /* no body */
}
unsafe { foo() };
bar();</code></pre>
<div class="rule" id="r-items.fn.extern.default-abi"><a class="rule-link" href="#r-items.fn.extern.default-abi" title="items.fn.extern.default-abi"><span>[items<wbr>.fn<wbr>.extern<wbr>.default-abi]</span/></a>
</div>
<p>When <code>"extern" Abi?*</code> is omitted from <code>FunctionQualifiers</code> in function items,
the ABI <code>"Rust"</code> is assigned. For example:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn foo() {}
<span class="boring">}</span></code></pre></pre>
<p>is equivalent to:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>extern "Rust" fn foo() {}
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-items.fn.extern.foreign-call"><a class="rule-link" href="#r-items.fn.extern.foreign-call" title="items.fn.extern.foreign-call"><span>[items<wbr>.fn<wbr>.extern<wbr>.foreign-call]</span/></a>
</div>
<p>Functions can be called by foreign code, and using an ABI that
differs from Rust allows, for example, to provide functions that can be
called from other programming languages like C:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Declares a function with the "C" ABI
extern "C" fn new_i32() -&gt; i32 { 0 }

// Declares a function with the "stdcall" ABI
<span class="boring">#[cfg(any(windows, target_arch = "x86"))]
</span>extern "stdcall" fn new_i32_stdcall() -&gt; i32 { 0 }
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-items.fn.extern.default-extern"><a class="rule-link" href="#r-items.fn.extern.default-extern" title="items.fn.extern.default-extern"><span>[items<wbr>.fn<wbr>.extern<wbr>.default-extern]</span/></a>
</div>
<p>Just as with <a href="external-blocks.html">external block</a>, when the <code>extern</code> keyword is used and the <code>"ABI"</code>
is omitted, the ABI used defaults to <code>"C"</code>. That is, this:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>extern fn new_i32() -&gt; i32 { 0 }
let fptr: extern fn() -&gt; i32 = new_i32;
<span class="boring">}</span></code></pre></pre>
<p>is equivalent to:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>extern "C" fn new_i32() -&gt; i32 { 0 }
let fptr: extern "C" fn() -&gt; i32 = new_i32;
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-items.fn.extern.unwind"><a class="rule-link" href="#r-items.fn.extern.unwind" title="items.fn.extern.unwind"><span>[items<wbr>.fn<wbr>.extern<wbr>.unwind]</span/></a>
</div>
<h3 id="unwinding"><a class="header" href="#unwinding">Unwinding</a></h3>
<div class="rule" id="r-items.fn.extern.unwind.intro"><a class="rule-link" href="#r-items.fn.extern.unwind.intro" title="items.fn.extern.unwind.intro"><span>[items<wbr>.fn<wbr>.extern<wbr>.unwind<wbr>.intro]</span/></a>
</div>
<p>Most ABI strings come in two variants, one with an <code>-unwind</code> suffix and one without. The <code>Rust</code> ABI always permits unwinding, so there is no <code>Rust-unwind</code> ABI. The choice of ABI, together with the runtime <a href="../panic.html#the-panic_handler-attribute">panic handler</a>, determines the behavior when unwinding out of a function.</p>
<div class="rule" id="r-items.fn.extern.unwind.behavior"><a class="rule-link" href="#r-items.fn.extern.unwind.behavior" title="items.fn.extern.unwind.behavior"><span>[items<wbr>.fn<wbr>.extern<wbr>.unwind<wbr>.behavior]</span/></a>
</div>
<p>The table below indicates the behavior of an unwinding operation reaching each type of ABI boundary (function declaration or definition using the corresponding ABI string). Note that the Rust runtime is not affected by, and cannot have an effect on, any unwinding that occurs entirely within another language’s runtime, that is, unwinds that are thrown and caught without reaching a Rust ABI boundary.</p>
<p>The <code>panic</code>-unwind column refers to <a href="../panic.html">panicking</a> via the <code>panic!</code> macro and similar standard library mechanisms, as well as to any other Rust operations that cause a panic, such as out-of-bounds array indexing or integer overflow.</p>
<p>The “unwinding” ABI category refers to <code>"Rust"</code> (the implicit ABI of Rust functions not marked <code>extern</code>), <code>"C-unwind"</code>, and any other ABI with <code>-unwind</code> in its name. The “non-unwinding” ABI category refers to all other ABI strings, including <code>"C"</code> and <code>"stdcall"</code>.</p>
<p>Native unwinding is defined per-target. On targets that support throwing and catching C++ exceptions, it refers to the mechanism used to implement this feature. Some platforms implement a form of unwinding referred to as <a href="https://rust-lang.github.io/rfcs/2945-c-unwind-abi.html#forced-unwinding">“forced unwinding”</a>; <code>longjmp</code> on Windows and <code>pthread_exit</code> in <code>glibc</code> are implemented this way. Forced unwinding is explicitly excluded from the “Native unwind” column in the table.</p>
<div class="table-wrapper"><table><thead><tr><th>panic runtime</th><th>ABI</th><th><code>panic</code>-unwind</th><th>Native unwind (unforced)</th></tr></thead><tbody>
<tr><td><code>panic=unwind</code></td><td>unwinding</td><td>unwind</td><td>unwind</td></tr>
<tr><td><code>panic=unwind</code></td><td>non-unwinding</td><td>abort (see notes below)</td><td><a href="../behavior-considered-undefined.html">undefined behavior</a></td></tr>
<tr><td><code>panic=abort</code></td><td>unwinding</td><td><code>panic</code> aborts without unwinding</td><td>abort</td></tr>
<tr><td><code>panic=abort</code></td><td>non-unwinding</td><td><code>panic</code> aborts without unwinding</td><td><a href="../behavior-considered-undefined.html">undefined behavior</a></td></tr>
</tbody></table>
</div><div class="rule" id="r-items.fn.extern.abort"><a class="rule-link" href="#r-items.fn.extern.abort" title="items.fn.extern.abort"><span>[items<wbr>.fn<wbr>.extern<wbr>.abort]</span/></a>
</div>
<p>With <code>panic=unwind</code>, when a <code>panic</code> is turned into an abort by a non-unwinding ABI boundary, either no destructors (<code>Drop</code> calls) will run, or all destructors up until the ABI boundary will run. It is unspecified which of those two behaviors will happen.</p>
<p>For other considerations and limitations regarding unwinding across FFI boundaries, see the <a href="../panic.html#unwinding-across-ffi-boundaries">relevant section in the Panic documentation</a>.</p>
<div class="rule" id="r-items.fn.const"><a class="rule-link" href="#r-items.fn.const" title="items.fn.const"><span>[items<wbr>.fn<wbr>.const]</span/></a>
</div>
<h2 id="const-functions"><a class="header" href="#const-functions">Const functions</a></h2>
<div class="rule" id="r-items.fn.const.intro"><a class="rule-link" href="#r-items.fn.const.intro" title="items.fn.const.intro"><span>[items<wbr>.fn<wbr>.const<wbr>.intro]</span/></a>
</div>
<p>Functions qualified with the <code>const</code> keyword are <a href="../const_eval.html#const-functions">const functions</a>, as are <a href="structs.html">tuple struct</a> and <a href="enumerations.html">tuple variant</a> constructors. <em>Const functions</em>  can be called from within <a href="../const_eval.html#const-context">const contexts</a>.</p>
<div class="rule" id="r-items.fn.const.extern"><a class="rule-link" href="#r-items.fn.const.extern" title="items.fn.const.extern"><span>[items<wbr>.fn<wbr>.const<wbr>.extern]</span/></a>
</div>
<p>Const functions may use the <a href="#extern-function-qualifier"><code>extern</code></a> function qualifier.</p>
<div class="rule" id="r-items.fn.const.exclusivity"><a class="rule-link" href="#r-items.fn.const.exclusivity" title="items.fn.const.exclusivity"><span>[items<wbr>.fn<wbr>.const<wbr>.exclusivity]</span/></a>
</div>
<p>Const functions are not allowed to be <a href="#async-functions">async</a>.</p>
<div class="rule" id="r-items.fn.async"><a class="rule-link" href="#r-items.fn.async" title="items.fn.async"><span>[items<wbr>.fn<wbr>.async]</span/></a>
</div>
<h2 id="async-functions"><a class="header" href="#async-functions">Async functions</a></h2>
<div class="rule" id="r-items.fn.async.intro"><a class="rule-link" href="#r-items.fn.async.intro" title="items.fn.async.intro"><span>[items<wbr>.fn<wbr>.async<wbr>.intro]</span/></a>
</div>
<p>Functions may be qualified as async, and this can also be combined with the
<code>unsafe</code> qualifier:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>async fn regular_example() { }
async unsafe fn unsafe_example() { }
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-items.fn.async.future"><a class="rule-link" href="#r-items.fn.async.future" title="items.fn.async.future"><span>[items<wbr>.fn<wbr>.async<wbr>.future]</span/></a>
</div>
<p>Async functions do no work when called: instead, they
capture their arguments into a future. When polled, that future will
execute the function’s body.</p>
<div class="rule" id="r-items.fn.async.desugar-brief"><a class="rule-link" href="#r-items.fn.async.desugar-brief" title="items.fn.async.desugar-brief"><span>[items<wbr>.fn<wbr>.async<wbr>.desugar-brief]</span/></a>
</div>
<p>An async function is roughly equivalent to a function
that returns <a href="../types/impl-trait.html"><code>impl Future</code></a> and with an <a href="../expressions/block-expr.html#async-blocks"><code>async move</code> block</a> as
its body:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Source
async fn example(x: &amp;str) -&gt; usize {
    x.len()
}
<span class="boring">}</span></code></pre></pre>
<p>is roughly equivalent to:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">use std::future::Future;
</span>// Desugared
fn example&lt;'a&gt;(x: &amp;'a str) -&gt; impl Future&lt;Output = usize&gt; + 'a {
    async move { x.len() }
}
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-items.fn.async.desugar"><a class="rule-link" href="#r-items.fn.async.desugar" title="items.fn.async.desugar"><span>[items<wbr>.fn<wbr>.async<wbr>.desugar]</span/></a>
</div>
<p>The actual desugaring is more complex:</p>
<div class="rule" id="r-items.fn.async.lifetime-capture"><a class="rule-link" href="#r-items.fn.async.lifetime-capture" title="items.fn.async.lifetime-capture"><span>[items<wbr>.fn<wbr>.async<wbr>.lifetime-capture]</span/></a>
</div>
<ul>
<li>The return type in the desugaring is assumed to capture all lifetime
parameters from the <code>async fn</code> declaration. This can be seen in the
desugared example above, which explicitly outlives, and hence
captures, <code>'a</code>.</li>
</ul>
<div class="rule" id="r-items.fn.async.param-capture"><a class="rule-link" href="#r-items.fn.async.param-capture" title="items.fn.async.param-capture"><span>[items<wbr>.fn<wbr>.async<wbr>.param-capture]</span/></a>
</div>
<ul>
<li>The <a href="../expressions/block-expr.html#async-blocks"><code>async move</code> block</a> in the body captures all function
parameters, including those that are unused or bound to a <code>_</code>
pattern. This ensures that function parameters are dropped in the
same order as they would be if the function were not async, except
that the drop occurs when the returned future has been fully
awaited.</li>
</ul>
<p>For more information on the effect of async, see <a href="../expressions/block-expr.html#async-blocks"><code>async</code> blocks</a>.</p>
<div class="rule" id="r-items.fn.async.edition2018"><a class="rule-link" href="#r-items.fn.async.edition2018" title="items.fn.async.edition2018"><span>[items<wbr>.fn<wbr>.async<wbr>.edition2018]</span/></a>
</div>
<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2018</span> Edition differences</p>
<p>Async functions are only available beginning with Rust 2018.</p>
</blockquote>
</div>
<div class="rule" id="r-items.fn.async.safety"><a class="rule-link" href="#r-items.fn.async.safety" title="items.fn.async.safety"><span>[items<wbr>.fn<wbr>.async<wbr>.safety]</span/></a>
</div>
<h3 id="combining-async-and-unsafe"><a class="header" href="#combining-async-and-unsafe">Combining <code>async</code> and <code>unsafe</code></a></h3>
<div class="rule" id="r-items.fn.async.safety.intro"><a class="rule-link" href="#r-items.fn.async.safety.intro" title="items.fn.async.safety.intro"><span>[items<wbr>.fn<wbr>.async<wbr>.safety<wbr>.intro]</span/></a>
</div>
<p>It is legal to declare a function that is both async and unsafe. The
resulting function is unsafe to call and (like any async function)
returns a future. This future is just an ordinary future and thus an
<code>unsafe</code> context is not required to “await” it:</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Returns a future that, when awaited, dereferences `x`.
//
// Soundness condition: `x` must be safe to dereference until
// the resulting future is complete.
async unsafe fn unsafe_example(x: *const i32) -&gt; i32 {
  *x
}

async fn safe_example() {
    // An `unsafe` block is required to invoke the function initially:
    let p = 22;
    let future = unsafe { unsafe_example(&amp;p) };

    // But no `unsafe` block required here. This will
    // read the value of `p`:
    let q = future.await;
}
<span class="boring">}</span></code></pre></pre>
<p>Note that this behavior is a consequence of the desugaring to a
function that returns an <code>impl Future</code> – in this case, the function
we desugar to is an <code>unsafe</code> function, but the return value remains
the same.</p>
<p>Unsafe is used on an async function in precisely the same way that it
is used on other functions: it indicates that the function imposes
some additional obligations on its caller to ensure soundness. As in any
other unsafe function, these conditions may extend beyond the initial
call itself – in the snippet above, for example, the <code>unsafe_example</code>
function took a pointer <code>x</code> as argument, and then (when awaited)
dereferenced that pointer. This implies that <code>x</code> would have to be
valid until the future is finished executing, and it is the caller’s
responsibility to ensure that.</p>
<div class="rule" id="r-items.fn.attributes"><a class="rule-link" href="#r-items.fn.attributes" title="items.fn.attributes"><span>[items<wbr>.fn<wbr>.attributes]</span/></a>
</div>
<h2 id="attributes-on-functions"><a class="header" href="#attributes-on-functions">Attributes on functions</a></h2>
<div class="rule" id="r-items.fn.attributes.intro"><a class="rule-link" href="#r-items.fn.attributes.intro" title="items.fn.attributes.intro"><span>[items<wbr>.fn<wbr>.attributes<wbr>.intro]</span/></a>
</div>
<p><a href="../attributes.html">Outer attributes</a> are allowed on functions. <a href="../attributes.html">Inner
attributes</a> are allowed directly after the <code>{</code> inside its body <a href="../expressions/block-expr.html">block</a>.</p>
<p>This example shows an inner attribute on a function. The function is documented
with just the word “Example”.</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn documented() {
    #![doc = "Example"]
}
<span class="boring">}</span></code></pre></pre>
<div class="alert alert-note">
<blockquote>
<p class="alert-title"><svg viewBox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>Except for lints, it is idiomatic to only use outer attributes on function items.</p>
</blockquote>
</div>
<div class="rule" id="r-items.fn.attributes.builtin-attributes"><a class="rule-link" href="#r-items.fn.attributes.builtin-attributes" title="items.fn.attributes.builtin-attributes"><span>[items<wbr>.fn<wbr>.attributes<wbr>.builtin-attributes]</span/></a>
</div>
<p>The attributes that have meaning on a function are <a href="../conditional-compilation.html#the-cfg-attribute"><code>cfg</code></a>, <a href="../conditional-compilation.html#the-cfg_attr-attribute"><code>cfg_attr</code></a>, <a href="../attributes/diagnostics.html#the-deprecated-attribute"><code>deprecated</code></a>,
<a href="../../rustdoc/the-doc-attribute.html"><code>doc</code></a>, <a href="../abi.html#the-export_name-attribute"><code>export_name</code></a>, <a href="../abi.html#the-link_section-attribute"><code>link_section</code></a>, <a href="../abi.html#the-no_mangle-attribute"><code>no_mangle</code></a>, <a href="../attributes/diagnostics.html#lint-check-attributes">the lint check
attributes</a>, <a href="../attributes/diagnostics.html#the-must_use-attribute"><code>must_use</code></a>, <a href="../procedural-macros.html">the procedural macro attributes</a>, <a href="../attributes/testing.html">the testing
attributes</a>, and <a href="../attributes/codegen.html#optimization-hints">the optimization hint attributes</a>. Functions also accept
attributes macros.</p>
<div class="rule" id="r-items.fn.param-attributes"><a class="rule-link" href="#r-items.fn.param-attributes" title="items.fn.param-attributes"><span>[items<wbr>.fn<wbr>.param-attributes]</span/></a>
</div>
<h2 id="attributes-on-function-parameters"><a class="header" href="#attributes-on-function-parameters">Attributes on function parameters</a></h2>
<div class="rule" id="r-items.fn.param-attributes.intro"><a class="rule-link" href="#r-items.fn.param-attributes.intro" title="items.fn.param-attributes.intro"><span>[items<wbr>.fn<wbr>.param-attributes<wbr>.intro]</span/></a>
</div>
<p><a href="../attributes.html">Outer attributes</a> are allowed on function parameters and the
permitted <a href="../attributes.html#built-in-attributes-index">built-in attributes</a> are restricted to <code>cfg</code>, <code>cfg_attr</code>, <code>allow</code>,
<code>warn</code>, <code>deny</code>, and <code>forbid</code>.</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn len(
    #[cfg(windows)] slice: &amp;[u16],
    #[cfg(not(windows))] slice: &amp;[u8],
) -&gt; usize {
    slice.len()
}
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-items.fn.param-attributes.parsed-attributes"><a class="rule-link" href="#r-items.fn.param-attributes.parsed-attributes" title="items.fn.param-attributes.parsed-attributes"><span>[items<wbr>.fn<wbr>.param-attributes<wbr>.parsed-attributes]</span/></a>
</div>
<p>Inert helper attributes used by procedural macro attributes applied to items are also
allowed but be careful to not include these inert attributes in your final <code>TokenStream</code>.</p>
<p>For example, the following code defines an inert <code>some_inert_attribute</code> attribute that
is not formally defined anywhere and the <code>some_proc_macro_attribute</code> procedural macro is
responsible for detecting its presence and removing it from the output token stream.</p>
<!-- ignore: requires proc macro -->
<pre><code class="language-rust ignore">#[some_proc_macro_attribute]
fn foo_oof(#[some_inert_attribute] arg: u8) {
}</code></pre>
<hr>
<ol class="footnote-definition"><li id="footnote-async-edition">
<p>The <code>async</code> qualifier is not allowed in the 2015 edition. <a href="#fr-async-edition-1">↩</a></p>
</li>
<li id="footnote-extern-qualifiers">
<p><em>Relevant to editions earlier than Rust 2024</em>: Within
<code>extern</code> blocks, the <code>safe</code> or <code>unsafe</code> function qualifier is only allowed
when the <code>extern</code> is qualified as <code>unsafe</code>. <a href="#fr-extern-qualifiers-1">↩</a></p>
</li>
<li id="footnote-extern-safe">
<p>The <code>safe</code> function qualifier is only allowed semantically within
<code>extern</code> blocks. <a href="#fr-extern-safe-1">↩</a></p>
</li>
<li id="footnote-fn-param-2015">
<p>Function parameters with only a type are only allowed
in an associated function of a <a href="traits.html">trait item</a> in the 2015 edition. <a href="#fr-fn-param-2015-1">↩</a></p>
</li>
</ol>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../items/use-declarations.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../items/type-aliases.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../items/use-declarations.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../items/type-aliases.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr-ef4e11c1.min.js"></script>
        <script src="../mark-09e88c2c.min.js"></script>
        <script src="../searcher-9aeb6ddf.js"></script>

        <script src="../clipboard-1626706a.min.js"></script>
        <script src="../highlight-abc7f01d.js"></script>
        <script src="../book-9576a2db.js"></script>

        <!-- Custom JS scripts -->
        <script src="../theme/reference-cfed9ca5.js"></script>



    </div>
    </body>
</html>
