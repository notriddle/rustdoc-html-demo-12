<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Type checks the given `mir` in the context of the inference context `infcx`. Returns any region constraints that have yet to be proven. This result includes liveness constraints that ensure that regions appearing in the types of all local variables are live at all points where that local variable may later be used."><title>type_check in rustc_borrowck::type_check - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="rustc_borrowck" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0-dev" data-channel="nightly" data-search-js="search-38ac1f3e.js" data-stringdex-js="stringdex-0e748618.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">type_check</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../rustc_borrowck/index.html"><img class="rust-logo" src="../../static.files/rust-logo-9a9549ea.svg" alt="logo"></a><h2><a href="../../rustc_borrowck/index.html">rustc_<wbr>borrowck</a><span class="version">1.91.0-dev</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">type_<wbr>check</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#parameters" title="Parameters">Parameters</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In rustc_<wbr>borrowck::<wbr>type_<wbr>check</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">rustc_borrowck</a>::<wbr><a href="index.html">type_check</a></div><h1>Function <span class="fn">type_<wbr>check</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/rustc_borrowck/type_check/mod.rs.html#98-196">Source</a> </span></div><pre class="rust item-decl"><code>pub(crate) fn type_check&lt;'tcx&gt;(
    root_cx: &amp;mut <a class="struct" href="../root_cx/struct.BorrowCheckRootCtxt.html" title="struct rustc_borrowck::root_cx::BorrowCheckRootCtxt">BorrowCheckRootCtxt</a>&lt;'tcx&gt;,
    infcx: &amp;<a class="struct" href="../struct.BorrowckInferCtxt.html" title="struct rustc_borrowck::BorrowckInferCtxt">BorrowckInferCtxt</a>&lt;'tcx&gt;,
    body: &amp;<a class="struct" href="../../rustc_middle/mir/struct.Body.html" title="struct rustc_middle::mir::Body">Body</a>&lt;'tcx&gt;,
    promoted: &amp;IndexSlice&lt;<a class="struct" href="../../rustc_middle/mir/struct.Promoted.html" title="struct rustc_middle::mir::Promoted">Promoted</a>, <a class="struct" href="../../rustc_middle/mir/struct.Body.html" title="struct rustc_middle::mir::Body">Body</a>&lt;'tcx&gt;&gt;,
    universal_regions: <a class="struct" href="../universal_regions/struct.UniversalRegions.html" title="struct rustc_borrowck::universal_regions::UniversalRegions">UniversalRegions</a>&lt;'tcx&gt;,
    location_table: &amp;<a class="struct" href="../consumers/struct.PoloniusLocationTable.html" title="struct rustc_borrowck::consumers::PoloniusLocationTable">PoloniusLocationTable</a>,
    borrow_set: &amp;<a class="struct" href="../borrow_set/struct.BorrowSet.html" title="struct rustc_borrowck::borrow_set::BorrowSet">BorrowSet</a>&lt;'tcx&gt;,
    polonius_facts: &amp;mut <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../consumers/type.PoloniusInput.html" title="type rustc_borrowck::consumers::PoloniusInput">PoloniusFacts</a>&gt;,
    move_data: &amp;MoveData&lt;'tcx&gt;,
    location_map: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;DenseLocationMap&gt;,
) -&gt; <a class="struct" href="struct.MirTypeckResults.html" title="struct rustc_borrowck::type_check::MirTypeckResults">MirTypeckResults</a>&lt;'tcx&gt;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Type checks the given <code>mir</code> in the context of the inference
context <code>infcx</code>. Returns any region constraints that have yet to
be proven. This result includes liveness constraints that
ensure that regions appearing in the types of all local variables
are live at all points where that local variable may later be
used.</p>
<p>This phase of type-check ought to be infallible – this is because
the original, HIR-based type-check succeeded. So if any errors
occur here, we will get a <code>bug!</code> reported.</p>
<h2 id="parameters"><a class="doc-anchor" href="#parameters">§</a>Parameters</h2>
<ul>
<li><code>infcx</code> – inference context to use</li>
<li><code>body</code> – MIR body to type-check</li>
<li><code>promoted</code> – map of promoted constants within <code>body</code></li>
<li><code>universal_regions</code> – the universal regions from <code>body</code>s function signature</li>
<li><code>location_table</code> – for datalog polonius, the map between <code>Location</code>s and <code>RichLocation</code>s</li>
<li><code>borrow_set</code> – information about borrows occurring in <code>body</code></li>
<li><code>polonius_facts</code> – when using Polonius, this is the generated set of Polonius facts</li>
<li><code>move_data</code> – move-data constructed when performing the maybe-init dataflow analysis</li>
<li><code>location_map</code> – map between MIR <code>Location</code> and <code>PointIndex</code></li>
</ul>
</div></details></section></div></main></body></html>