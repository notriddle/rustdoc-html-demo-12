<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="“Collection” is the process of determining the type and other external details of each item in Rust. Collection is specifically concerned with inter-procedural things – for example, for a function definition, collection will figure out the type and signature of the function, but it will not visit the body of the function in any way, nor examine type annotations on local variables (that’s the job of type checking)."><title>rustc_hir_analysis::collect - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="rustc_hir_analysis" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0-dev" data-channel="nightly" data-search-js="search-38ac1f3e.js" data-stringdex-js="stringdex-0e748618.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module collect</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../rustc_hir_analysis/index.html"><img class="rust-logo" src="../../static.files/rust-logo-9a9549ea.svg" alt="logo"></a><h2><a href="../../rustc_hir_analysis/index.html">rustc_<wbr>hir_<wbr>analysis</a><span class="version">1.91.0-dev</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module collect</a></h2><h3><a href="#modules">Module Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate rustc_<wbr>hir_<wbr>analysis</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">rustc_hir_analysis</a></div><h1>Module <span>collect</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/rustc_hir_analysis/collect.rs.html#1-1546">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>“Collection” is the process of determining the type and other external
details of each item in Rust. Collection is specifically concerned
with <em>inter-procedural</em> things – for example, for a function
definition, collection will figure out the type and signature of the
function, but it will not visit the <em>body</em> of the function in any way,
nor examine type annotations on local variables (that’s the job of
type <em>checking</em>).</p>
<p>Collecting is ultimately defined by a bundle of queries that
inquire after various facts about the items in the crate (e.g.,
<code>type_of</code>, <code>generics_of</code>, <code>predicates_of</code>, etc). See the <code>provide</code> function
for the full set.</p>
<p>At present, however, we do run collection across all items in the
crate as a kind of pass. This should eventually be factored away.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><dl class="item-table"><dt><a class="mod" href="dump/index.html" title="mod rustc_hir_analysis::collect::dump">dump</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="mod" href="generics_of/index.html" title="mod rustc_hir_analysis::collect::generics_of">generics_<wbr>of</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="mod" href="item_bounds/index.html" title="mod rustc_hir_analysis::collect::item_bounds">item_<wbr>bounds</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="mod" href="predicates_of/index.html" title="mod rustc_hir_analysis::collect::predicates_of">predicates_<wbr>of</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="mod" href="resolve_bound_vars/index.html" title="mod rustc_hir_analysis::collect::resolve_bound_vars">resolve_<wbr>bound_<wbr>vars</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dd>Resolution of early vs late bound lifetimes.</dd><dt><a class="mod" href="type_of/index.html" title="mod rustc_hir_analysis::collect::type_of">type_of</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.FieldUniquenessCheckContext.html" title="struct rustc_hir_analysis::collect::FieldUniquenessCheckContext">Field<wbr>Uniqueness<wbr>Check<wbr>Context</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="struct" href="struct.HirPlaceholderCollector.html" title="struct rustc_hir_analysis::collect::HirPlaceholderCollector">HirPlaceholder<wbr>Collector</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="struct" href="struct.ItemCtxt.html" title="struct rustc_hir_analysis::collect::ItemCtxt">Item<wbr>Ctxt</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dd>Context specific to some particular item. This is what implements <a href="../hir_ty_lowering/trait.HirTyLowerer.html" title="trait rustc_hir_analysis::hir_ty_lowering::HirTyLowerer"><code>HirTyLowerer</code></a>.</dd><dt><a class="struct" href="struct.NestedSpan.html" title="struct rustc_hir_analysis::collect::NestedSpan">Nested<wbr>Span</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.FieldDeclSpan.html" title="enum rustc_hir_analysis::collect::FieldDeclSpan">Field<wbr>Decl<wbr>Span</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.adt_def.html" title="fn rustc_hir_analysis::collect::adt_def">adt_def</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.anon_const_kind.html" title="fn rustc_hir_analysis::collect::anon_const_kind">anon_<wbr>const_<wbr>kind</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.bad_placeholder.html" title="fn rustc_hir_analysis::collect::bad_placeholder">bad_<wbr>placeholder</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.check_impl_constness.html" title="fn rustc_hir_analysis::collect::check_impl_constness">check_<wbr>impl_<wbr>constness</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.compute_sig_of_foreign_fn_decl.html" title="fn rustc_hir_analysis::collect::compute_sig_of_foreign_fn_decl">compute_<wbr>sig_<wbr>of_<wbr>foreign_<wbr>fn_<wbr>decl</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.const_param_default.html" title="fn rustc_hir_analysis::collect::const_param_default">const_<wbr>param_<wbr>default</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.coroutine_for_closure.html" title="fn rustc_hir_analysis::collect::coroutine_for_closure">coroutine_<wbr>for_<wbr>closure</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.coroutine_kind.html" title="fn rustc_hir_analysis::collect::coroutine_kind">coroutine_<wbr>kind</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.early_bound_lifetimes_from_generics.html" title="fn rustc_hir_analysis::collect::early_bound_lifetimes_from_generics">early_<wbr>bound_<wbr>lifetimes_<wbr>from_<wbr>generics</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dd>Returns the early-bound lifetimes declared in this generics
listing. For anything other than fns/methods, this is just all
the lifetimes that are declared. For fns or methods, we have to
screen out those that do not appear in any where-clauses etc using
<code>resolve_lifetime::early_bound_lifetimes</code>.</dd><dt><a class="fn" href="fn.fn_sig.html" title="fn rustc_hir_analysis::collect::fn_sig">fn_sig</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.get_new_lifetime_name.html" title="fn rustc_hir_analysis::collect::get_new_lifetime_name">get_<wbr>new_<wbr>lifetime_<wbr>name</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dd>Synthesize a new lifetime name that doesn’t clash with any of the lifetimes already present.</dd><dt><a class="fn" href="fn.impl_trait_header.html" title="fn rustc_hir_analysis::collect::impl_trait_header">impl_<wbr>trait_<wbr>header</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.lower_enum_variant_types.html" title="fn rustc_hir_analysis::collect::lower_enum_variant_types">lower_<wbr>enum_<wbr>variant_<wbr>types</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.lower_fn_sig_recovering_infer_ret_ty.html" title="fn rustc_hir_analysis::collect::lower_fn_sig_recovering_infer_ret_ty">lower_<wbr>fn_<wbr>sig_<wbr>recovering_<wbr>infer_<wbr>ret_<wbr>ty</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.lower_variant.html" title="fn rustc_hir_analysis::collect::lower_variant">lower_<wbr>variant</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.lower_variant_ctor.html" title="fn rustc_hir_analysis::collect::lower_variant_ctor">lower_<wbr>variant_<wbr>ctor</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.opaque_ty_origin.html" title="fn rustc_hir_analysis::collect::opaque_ty_origin">opaque_<wbr>ty_<wbr>origin</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.placeholder_type_error_diag.html" title="fn rustc_hir_analysis::collect::placeholder_type_error_diag">placeholder_<wbr>type_<wbr>error_<wbr>diag</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.polarity_of_impl.html" title="fn rustc_hir_analysis::collect::polarity_of_impl">polarity_<wbr>of_<wbr>impl</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.provide.html" title="fn rustc_hir_analysis::collect::provide">provide</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dd>Adds query implementations to the <a href="../../rustc_middle/query/struct.Providers.html" title="struct rustc_middle::query::Providers">Providers</a> vtable, see <a href="../../rustc_middle/query/index.html" title="mod rustc_middle::query"><code>rustc_middle::query</code></a></dd><dt><a class="fn" href="fn.recover_infer_ret_ty.html" title="fn rustc_hir_analysis::collect::recover_infer_ret_ty">recover_<wbr>infer_<wbr>ret_<wbr>ty</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.rendered_precise_capturing_args.html" title="fn rustc_hir_analysis::collect::rendered_precise_capturing_args">rendered_<wbr>precise_<wbr>capturing_<wbr>args</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt><dt><a class="fn" href="fn.suggest_impl_trait.html" title="fn rustc_hir_analysis::collect::suggest_impl_trait">suggest_<wbr>impl_<wbr>trait</a></dt><dt><a class="fn" href="fn.trait_def.html" title="fn rustc_hir_analysis::collect::trait_def">trait_<wbr>def</a><span title="Restricted Visibility">&nbsp;🔒</span> </dt></dl></section></div></main></body></html>