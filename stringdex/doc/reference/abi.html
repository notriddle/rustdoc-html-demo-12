<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Application Binary Interface - The Rust Reference</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-3865ffda.css">
        <link rel="stylesheet" href="css/general-4c35105a.css">
        <link rel="stylesheet" href="css/chrome-c0e702bf.css">
        <link rel="stylesheet" href="css/print-ad67d350.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome-799aeb25.css">
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight-56612340.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/reference-94a8e8ad.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-882fb52d.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-4adb5027.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Rust Reference</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rust-lang/reference/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/rust-lang/reference/edit/master/src/abi.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <i class="fa fa-spinner fa-spin"></i>
                            </div>
                        </div>
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div class="rule" id="r-abi"><a class="rule-link" href="#r-abi" title="abi"><span>[abi]</span/></a>
</div>
<h1 id="application-binary-interface-abi"><a class="header" href="#application-binary-interface-abi">Application Binary Interface (ABI)</a></h1>
<div class="rule" id="r-abi.intro"><a class="rule-link" href="#r-abi.intro" title="abi.intro"><span>[abi<wbr>.intro]</span/></a>
</div>
<p>This section documents features that affect the ABI of the compiled output of
a crate.</p>
<p>See <em><a href="items/functions.html#extern-function-qualifier">extern functions</a></em> for information on specifying the ABI for exporting
functions. See <em><a href="items/external-blocks.html">external blocks</a></em> for information on specifying the ABI for
linking external libraries.</p>
<div class="rule" id="r-abi.used"><a class="rule-link" href="#r-abi.used" title="abi.used"><span>[abi<wbr>.used]</span/></a>
</div>
<h2 id="the-used-attribute"><a class="header" href="#the-used-attribute">The <code>used</code> attribute</a></h2>
<div class="rule" id="r-abi.used.intro"><a class="rule-link" href="#r-abi.used.intro" title="abi.used.intro"><span>[abi<wbr>.used<wbr>.intro]</span/></a>
</div>
<p>The <em><code>used</code> attribute</em> can only be applied to <a href="items/static-items.html"><code>static</code> items</a>. This <a href="attributes.html">attribute</a> forces the
compiler to keep the variable in the output object file (.o, .rlib, etc. excluding final binaries)
even if the variable is not used, or referenced, by any other item in the crate.
However, the linker is still free to remove such an item.</p>
<p>Below is an example that shows under what conditions the compiler keeps a <code>static</code> item in the
output object file.</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// foo.rs

// This is kept because of `#[used]`:
#[used]
static FOO: u32 = 0;

// This is removable because it is unused:
#[allow(dead_code)]
static BAR: u32 = 0;

// This is kept because it is publicly reachable:
pub static BAZ: u32 = 0;

// This is kept because it is referenced by a public, reachable function:
static QUUX: u32 = 0;

pub fn quux() -&gt; &amp;'static u32 {
    &amp;QUUX
}

// This is removable because it is referenced by a private, unused (dead) function:
static CORGE: u32 = 0;

#[allow(dead_code)]
fn corge() -&gt; &amp;'static u32 {
    &amp;CORGE
}
<span class="boring">}</span></code></pre></pre>
<pre><code class="language-console">$ rustc -O --emit=obj --crate-type=rlib foo.rs

$ nm -C foo.o
0000000000000000 R foo::BAZ
0000000000000000 r foo::FOO
0000000000000000 R foo::QUUX
0000000000000000 T foo::quux
</code></pre>
<div class="rule" id="r-abi.no_mangle"><a class="rule-link" href="#r-abi.no_mangle" title="abi.no_mangle"><span>[abi<wbr>.no_mangle]</span/></a>
</div>
<h2 id="the-no_mangle-attribute"><a class="header" href="#the-no_mangle-attribute">The <code>no_mangle</code> attribute</a></h2>
<div class="rule" id="r-abi.no_mangle.intro"><a class="rule-link" href="#r-abi.no_mangle.intro" title="abi.no_mangle.intro"><span>[abi<wbr>.no_mangle<wbr>.intro]</span/></a>
</div>
<p>The <em><code>no_mangle</code> attribute</em> may be used on any <a href="items.html">item</a> to disable standard
symbol name mangling. The symbol for the item will be the identifier of the
item’s name.</p>
<div class="rule" id="r-abi.no_mangle.publicly-exported"><a class="rule-link" href="#r-abi.no_mangle.publicly-exported" title="abi.no_mangle.publicly-exported"><span>[abi<wbr>.no_mangle<wbr>.publicly-exported]</span/></a>
</div>
<p>Additionally, the item will be publicly exported from the produced library or
object file, similar to the <a href="#the-used-attribute"><code>used</code> attribute</a>.</p>
<div class="rule" id="r-abi.no_mangle.unsafe"><a class="rule-link" href="#r-abi.no_mangle.unsafe" title="abi.no_mangle.unsafe"><span>[abi<wbr>.no_mangle<wbr>.unsafe]</span/></a>
</div>
<p>This attribute is unsafe as an unmangled symbol may collide with another symbol
with the same name (or with a well-known symbol), leading to undefined behavior.</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[unsafe(no_mangle)]
extern "C" fn foo() {}
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-abi.no_mangle.edition2024"><a class="rule-link" href="#r-abi.no_mangle.edition2024" title="abi.no_mangle.edition2024"><span>[abi<wbr>.no_mangle<wbr>.edition2024]</span/></a>
</div>
<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2024</span> Edition differences</p>
<p>Before the 2024 edition it is allowed to use the <code>no_mangle</code> attribute without the <code>unsafe</code> qualification.</p>
</blockquote>
</div>
<div class="rule" id="r-abi.link_section"><a class="rule-link" href="#r-abi.link_section" title="abi.link_section"><span>[abi<wbr>.link_section]</span/></a>
</div>
<h2 id="the-link_section-attribute"><a class="header" href="#the-link_section-attribute">The <code>link_section</code> attribute</a></h2>
<div class="rule" id="r-abi.link_section.intro"><a class="rule-link" href="#r-abi.link_section.intro" title="abi.link_section.intro"><span>[abi<wbr>.link_section<wbr>.intro]</span/></a>
</div>
<p>The <em><code>link_section</code> attribute</em> specifies the section of the object file that a
<a href="items/functions.html">function</a> or <a href="items/static-items.html">static</a>’s content will be placed into.</p>
<div class="rule" id="r-abi.link_section.syntax"><a class="rule-link" href="#r-abi.link_section.syntax" title="abi.link_section.syntax"><span>[abi<wbr>.link_section<wbr>.syntax]</span/></a>
</div>
<p>The <code>link_section</code> attribute uses the <a href="attributes.html#grammar-MetaNameValueStr">MetaNameValueStr</a> syntax to specify the section name.</p>
<!-- no_run: don't link. The format of the section name is platform-specific. -->
<pre><pre class="playground"><code class="language-rust no_run edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[unsafe(no_mangle)]
#[unsafe(link_section = ".example_section")]
pub static VAR1: u32 = 1;
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-abi.link_section.unsafe"><a class="rule-link" href="#r-abi.link_section.unsafe" title="abi.link_section.unsafe"><span>[abi<wbr>.link_section<wbr>.unsafe]</span/></a>
</div>
<p>This attribute is unsafe as it allows users to place data and code into sections
of memory not expecting them, such as mutable data into read-only areas.</p>
<div class="rule" id="r-abi.link_section.edition2024"><a class="rule-link" href="#r-abi.link_section.edition2024" title="abi.link_section.edition2024"><span>[abi<wbr>.link_section<wbr>.edition2024]</span/></a>
</div>
<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2024</span> Edition differences</p>
<p>Before the 2024 edition it is allowed to use the <code>link_section</code> attribute without the <code>unsafe</code> qualification.</p>
</blockquote>
</div>
<div class="rule" id="r-abi.export_name"><a class="rule-link" href="#r-abi.export_name" title="abi.export_name"><span>[abi<wbr>.export_name]</span/></a>
</div>
<h2 id="the-export_name-attribute"><a class="header" href="#the-export_name-attribute">The <code>export_name</code> attribute</a></h2>
<div class="rule" id="r-abi.export_name.intro"><a class="rule-link" href="#r-abi.export_name.intro" title="abi.export_name.intro"><span>[abi<wbr>.export_name<wbr>.intro]</span/></a>
</div>
<p>The <em><code>export_name</code> attribute</em> specifies the name of the symbol that will be
exported on a <a href="items/functions.html">function</a> or <a href="items/static-items.html">static</a>.</p>
<div class="rule" id="r-abi.export_name.syntax"><a class="rule-link" href="#r-abi.export_name.syntax" title="abi.export_name.syntax"><span>[abi<wbr>.export_name<wbr>.syntax]</span/></a>
</div>
<p>The <code>export_name </code>attribute uses the <a href="attributes.html#grammar-MetaNameValueStr">MetaNameValueStr</a> syntax to specify the symbol name.</p>
<pre><pre class="playground"><code class="language-rust edition2024"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[unsafe(export_name = "exported_symbol_name")]
pub fn name_in_rust() { }
<span class="boring">}</span></code></pre></pre>
<div class="rule" id="r-abi.export_name.unsafe"><a class="rule-link" href="#r-abi.export_name.unsafe" title="abi.export_name.unsafe"><span>[abi<wbr>.export_name<wbr>.unsafe]</span/></a>
</div>
<p>This attribute is unsafe as a symbol with a custom name may collide with another
symbol with the same name (or with a well-known symbol), leading to undefined
behavior.</p>
<div class="rule" id="r-abi.export_name.edition2024"><a class="rule-link" href="#r-abi.export_name.edition2024" title="abi.export_name.edition2024"><span>[abi<wbr>.export_name<wbr>.edition2024]</span/></a>
</div>
<div class="alert alert-edition">
<blockquote>
<p class="alert-title"><span class="alert-title-edition">2024</span> Edition differences</p>
<p>Before the 2024 edition it is allowed to use the <code>export_name</code> attribute without the <code>unsafe</code> qualification.</p>
</blockquote>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="const_eval.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="runtime.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="const_eval.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="runtime.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-9aeb6ddf.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-9576a2db.js"></script>

        <!-- Custom JS scripts -->
        <script src="theme/reference-cfed9ca5.js"></script>



    </div>
    </body>
</html>
