<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Converts the span into its start line and column, and end line and column."><title>make_coords in rustc_codegen_llvm::coverageinfo::mapgen::spans - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-b5d4dc93.css"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="rustc_codegen_llvm" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0-dev" data-channel="nightly" data-search-js="search-1a4373a8.js" data-stringdex-js="stringdex-0e748618.js" data-settings-js="settings-c38705f0.js" ><script src="../../../../static.files/storage-1b37d467.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../../static.files/main-c7770cbf.js"></script><noscript><link rel="stylesheet" href="../../../../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">make_coords</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../../../rustc_codegen_llvm/index.html"><img class="rust-logo" src="../../../../static.files/rust-logo-9a9549ea.svg" alt="logo"></a><h2><a href="../../../../rustc_codegen_llvm/index.html">rustc_<wbr>codegen_<wbr>llvm</a><span class="version">1.91.0-dev</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"><h2><a href="index.html">In rustc_<wbr>codegen_<wbr>llvm::<wbr>coverageinfo::<wbr>mapgen::<wbr>spans</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../../index.html">rustc_codegen_llvm</a>::<wbr><a href="../../index.html">coverageinfo</a>::<wbr><a href="../index.html">mapgen</a>::<wbr><a href="index.html">spans</a></div><h1>Function <span class="fn">make_<wbr>coords</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../../src/rustc_codegen_llvm/coverageinfo/mapgen/spans.rs.html#41-74">Source</a> </span></div><pre class="rust item-decl"><code>pub(crate) fn make_coords(
    source_map: &amp;<a class="struct" href="../../../../rustc_span/source_map/struct.SourceMap.html" title="struct rustc_span::source_map::SourceMap">SourceMap</a>,
    file: &amp;<a class="struct" href="../../../../rustc_span/struct.SourceFile.html" title="struct rustc_span::SourceFile">SourceFile</a>,
    span: <a class="struct" href="../../../../rustc_span/span_encoding/struct.Span.html" title="struct rustc_span::span_encoding::Span">Span</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="struct.Coords.html" title="struct rustc_codegen_llvm::coverageinfo::mapgen::spans::Coords">Coords</a>&gt;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Converts the span into its start line and column, and end line and column.</p>
<p>Line numbers and column numbers are 1-based. Unlike most column numbers emitted by
the compiler, these column numbers are denoted in <strong>bytes</strong>, because that’s what
LLVM’s <code>llvm-cov</code> tool expects to see in coverage maps.</p>
<p>Returns <code>None</code> if the conversion failed for some reason. This should be uncommon,
but it’s hard to rule out entirely (especially in the presence of complex macros
or other expansions), and if it does happen then skipping a span or function is
better than an ICE or <code>llvm-cov</code> failure that the user might have no way to avoid.</p>
</div></details></section></div></main></body></html>