<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `foreign_access_skipping` mod in crate `miri`."><title>miri::borrow_tracker::tree_borrows::foreign_access_skipping - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-b5d4dc93.css"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="miri" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.0-dev" data-channel="nightly" data-search-js="search-1a4373a8.js" data-stringdex-js="stringdex-0e748618.js" data-settings-js="settings-c38705f0.js" ><script src="../../../../static.files/storage-1b37d467.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../../static.files/main-c7770cbf.js"></script><noscript><link rel="stylesheet" href="../../../../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module foreign_access_skipping</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../miri/index.html">miri</a><span class="version">1.91.0-dev</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module foreign_<wbr>access_<wbr>skipping</a></h2><h3><a href="#enums">Module Items</a></h3><ul class="block"><li><a href="#enums" title="Enums">Enums</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In miri::<wbr>borrow_<wbr>tracker::<wbr>tree_<wbr>borrows</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../../index.html">miri</a>::<wbr><a href="../../index.html">borrow_tracker</a>::<wbr><a href="../index.html">tree_borrows</a></div><h1>Module <span>foreign_<wbr>access_<wbr>skipping</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../../src/miri/borrow_tracker/tree_borrows/foreign_access_skipping.rs.html#1-108">Source</a> </span></div><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.IdempotentForeignAccess.html" title="enum miri::borrow_tracker::tree_borrows::foreign_access_skipping::IdempotentForeignAccess">Idempotent<wbr>Foreign<wbr>Access</a></dt><dd>To speed up tree traversals, we want to skip traversing subtrees when we know the traversal will have no effect.
This is often the case for foreign accesses, since usually foreign accesses happen several times in a row, but also
foreign accesses are idempotent. In particular, see tests <code>foreign_read_is_noop_after_foreign_write</code> and <code>all_transitions_idempotent</code>.
Thus, for each node we keep track of the “strongest idempotent foreign access” (SIFA), i.e. which foreign access can be skipped.
Note that for correctness, it is not required that this is the strongest access, just any access it is idempotent under. In particular, setting
it to <code>None</code> is always correct, but the point of this optimization is to have it be as strong as possible so that more accesses can be skipped.
This enum represents the kinds of values we store:</dd></dl></section></div></main></body></html>